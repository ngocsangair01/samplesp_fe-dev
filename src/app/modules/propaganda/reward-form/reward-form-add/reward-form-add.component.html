<div class="panel panel-default">
  <form id="formSave" [formGroup]="formSave" >
    <div class="panel-heading vt-relative">
      <strong class="text-u-c">
        <i class="fa fa-th"></i>&nbsp;
        <span *ngIf="!formSave.get('propagandaRewardFormId').value" >{{'propaganda.rewardFormAdd' | translate}}</span>
        <span *ngIf="formSave.get('propagandaRewardFormId').value && !view" >{{'propaganda.rewardFormEdit' | translate}}</span>
        <span *ngIf="view" >{{'propaganda.rewardFormView' | translate}}</span>
      </strong>
    </div>
    <div class="panel-body padding-xl ui-g">
      <div class="ui-g-12 vt-row">
        <label class="ui-g-12 ui-md-6 ui-lg-2 control-label vt-align-right required">
          {{'propaganda.rewardFormCode' | translate}}
        </label>
        <div class="ui-g-12 ui-md-6 ui-lg-3">
          <input type="text" class="form form-control" name="code" formControlName="code" maxlength="50" [attr.disabled]="view? true : null || update? true : null"  
          [autoFocus]="update? false : true">
          <app-control-messages [control]="f['code']"></app-control-messages>
        </div>
        <label class="ui-g-12 ui-md-6 ui-lg-3 control-label vt-align-right required">
          {{'propaganda.rewardFormName' | translate}}
        </label>
        <div class="ui-g-12 ui-md-6 ui-lg-3">
          <input type="text" class="form form-control" name="name" formControlName="name" maxlength="255" [attr.disabled]="view? true : null" [autoFocus]="update? true : null">
          <app-control-messages [control]="f['name']"></app-control-messages>
        </div>
      </div>
      <div class="ui-g-12 vt-row">
        <label class="ui-g-12 ui-md-6 ui-lg-2 control-label vt-align-right required">
          {{'propaganda.rewardFormEffectiveDate' | translate}}
        </label>
        <div class="ui-g-12 ui-md-6 ui-lg-3">
          <date-picker
            [property]="f['effectiveDate']"
            [disabled]="view">
          </date-picker>
          <app-control-messages [control]="f['effectiveDate']"></app-control-messages>
        </div>
        <label class="ui-g-12 ui-md-6 ui-lg-3 control-label vt-align-right">
          {{'propaganda.rewardFormExpiredDate' | translate}}
        </label>
        <div class="ui-g-12 ui-md-6 ui-lg-3">
          <date-picker
            [property]="f['expiredDate']"
            [disabled]="view">
          </date-picker>
          <app-control-messages [control]="f['expiredDate']"></app-control-messages>
        </div>
      </div>
      <div class="ui-g-12 vt-row">
        <label class="ui-g-12 ui-md-6 ui-lg-2 control-label vt-align-right required">
          {{'propaganda.rewardFormCategory' | translate}}
        </label>
        <div class="ui-g-12 ui-md-6 ui-lg-3">
          <select-filter
            [property]="f['rewardCategory']"
            [options]="lstRewardCategory"
            optionLabel="name"
            optionValue="id"
            [placeHolder]="'common.label.cboMustSelect'"
            [disabled]="view"
            [autoFocus]="false">
          </select-filter>
          <app-control-messages [control]="f['rewardCategory']"></app-control-messages>
        </div>
        <label class="ui-g-12 ui-md-6 ui-lg-3 control-label vt-align-right required">
          {{'propaganda.rewardFreeIncomeTax' | translate}}
        </label>
        <div class="ui-g-12 ui-md-6 ui-lg-3">
          <input type="text" name="freeIncomeTax" class="form form-control" maxlength="5" formControlName="freeIncomeTax" [attr.disabled]="view? true : null"/>
          <app-control-messages [control]="f['freeIncomeTax']"></app-control-messages>
        </div>
      </div>
      <div class="ui-g-12 vt-row">
        <label class= "ui-g-12 ui-md-6 ui-lg-2 control-label vt-align-right">
        {{'propaganda.rewardFormDescription' | translate}}
        </label>
        <div class="ui-g-12 ui-md-9 ui-lg-9">
          <textarea formControlName="description" id="description" cols="200" rows="4" class="form-control" maxlength="1000" [attr.disabled]="view? true : null"></textarea>
          <app-control-messages [control]="f['description']"></app-control-messages>
        </div>
      </div>
    </div>
    <div class="panel-footer vt-area-button">
      <button type="submit" *ngIf="!view"   (click)="processSaveOrUpdate()" class="btn btn-sm btn-info" [innerHTML]="'common.button.icon.save' | translate"></button>
      <button type="button" (click)="goBack()"  class="btn btn-sm btn-danger" [innerHTML]="'common.button.out' | translate"></button>
    </div>
  </form>
</div>