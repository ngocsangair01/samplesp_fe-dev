<div *ngIf="hasPermission('action.view')">
  <div class="panel panel-default card-info">
    <div class="panel-heading">
      <strong title="{{'app.settings.category.cat_type_list_title' | translate}}">
        <span translate> app.settings.category.cat_type_list_title</span>
      </strong>
      <div class="vt-absolute vt-shotcut-button-in-heading" style="padding-right: 16px; margin-bottom: 0">
        <button type="button" *ngIf="hasPermission('action.insert')" (click)="prepareSaveOrUpdate()" class="btn btn-sm btn-submit" [innerHTML]="'common.button.icon.addNew' | translate" id="addCategoryType" ></button>
      </div>
    </div>
    <div class="panel-body" style="border-left: 1px solid #D7E2E3; border-right: 1px solid #D7E2E3; border-bottom: 1px solid #D7E2E3; border-radius: 0 0 8px 8px;">
      <p-scrollPanel [style]="{width: '100%', height: '700px'}" style="overflow-x:hidden;"
              styleClass="custombar2 custombar3 clearfix nopadding-custombar">
        <div class="panel-body vt-nopadding">
          <div class="table-responsive" style="width: 100%; margin: 0px;overflow-x: unset;">
            <table class="table table-wrapper table-hover">
              <thead class="ui-table-thead">
                <tr>
                  <th translate class="size-1 index" >common.table.index</th>
                  <th translate class="size-5 group-category">app.settings.category.cat_type_name</th>
                </tr>
                <tr>
                  <th colspan="2">
                    <input placeholder="{{'app.settings.category.search_by_sys_cat_type_name' | translate}}" class="input-sm form-control" type="search" [(ngModel)]="catTypeFillter" id="searchCategoryType" maxlength="200"/>
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of resultList | filter : catTypeFillter; index as i" [ngClass]="{'bg-info' : item.categoryTypeId === categoryTypeId}" (click)="onSelectCategoryType(item)" id="categoryTypeTable">
                  <td class="vt-align-center">{{i + 1}}</td>
                  <td>{{item.code}} - {{item.name}}
  
                    <span  *ngIf="item.categoryTypeId === categoryTypeId">
                      <span *ngIf="paramUsedList.includes(item.code)&&hasPermission('action.delete')" class="fa fa-lock pull-right icon-delete-sys-cat-type"
                      (click)="processDelete(item)" style="cursor: pointer" [title]="'common.label.lock' | translate" id="deleteCategoryType">
                      </span>
                      <span *ngIf="!paramUsedList.includes(item.code)&&hasPermission('action.delete')" class="fa fa-trash pull-right icon-delete-sys-cat-type " style="cursor: pointer"
                      (click)="processDelete(item)"  [title]="'common.label.delete' | translate"  id="deleteCategoryType">
                      </span>
                      <span class="fa fa-edit pull-right icon-edit-sys-cat-type"  *ngIf="hasPermission('action.update')"
                        (click)="prepareSaveOrUpdate(item)" style="cursor: pointer" [title]="'common.label.edit' | translate" id="editCategoryType">
                      </span>
                    </span>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </p-scrollPanel>
    </div>
  </div>
</div>
