<div class="card-form">
  <div class="clearfix">
    <div class="left-nav-bar pull-left row-header">
      <div>
        <img alt="back" class="img-fluid" src="./../../../../../../assets/images/home/Mask_Group_18824.png" (click)="goBack();">
        <span *ngIf="isInsert" class="title" translate> tab.rewardCategory.label.rewardInfoInsert</span>
          <span *ngIf="isEdit" class="title" translate> tab.rewardCategory.label.rewardInfoUpdate</span>
          <span *ngIf="isView" class="title" translate> tab.rewardCategory.label.rewardInfoView</span>
      </div>
    </div>
    <div class="right-nav-bar pull-right left-option">
        <ul class="header-right sys-ul space-line">
          <li>
            <button class="btn btn-sm vt-btn mt-btn ng-star-inserted" type="button" (click)="goBack();" [innerHTML]="'common.button.out' | translate">
            </button>
          </li>
          <li *ngIf="!isView">
            <button class="btn btn-sm vt-btn btn-submit mt-btn ng-star-inserted" type="button" (click)="processSaveOrUpdate()" [innerHTML]="'common.button.icon.save' | translate">
            </button>
          </li>
          <li *ngIf="isView">
            <button class="btn btn-sm vt-btn btn-submit mt-btn btn-header-right ng-star-inserted" type="button" (click)="navigate()" [innerHTML]="'common.button.icon.edit' | translate">
            </button>
          </li>
        </ul>
    </div>
  </div>
</div>
<div class="info">
  <div *ngIf="(hasPermission('action.update') && isEdit) || (hasPermission('action.insert') && isInsert || isView) ">
    <div class="panel panel-default card-info">
      <form id="formSave" [formGroup]="formSave">
        <div class="panel-heading">
          <strong>
            <!-- <span *ngIf="isInsert" translate> tab.rewardCategory.label.rewardInfoInsert</span>
            <span *ngIf="isEdit" translate> tab.rewardCategory.label.rewardInfoUpdate</span>
            <span *ngIf="isView" translate> tab.rewardCategory.label.rewardInfoView</span> -->
            <span class="ml-2 title-info">Thông tin danh mục khen thưởng</span>
          </strong>
        </div>
        <div class="panel-body padding-xl ui-g">
          <div class="ui-g-12 vt-row">
            <label class="ui-g-12 ui-md-3 ui-lg-2 control-label vt-align-right required">
              {{'rewardCategory.rwObjectType' | translate}}
            </label>
            <div class="ui-g-12 ui-md-3 ui-lg-3">
              <select-filter [property]="f['rewardObjectType']" [options]="rewardObjectTypeList" optionLabel="name"
                optionValue="id" [placeHolder]="'common.label.cboMustSelect'" [disabled]="isView" (onChange)="changeRewardObjectType()">
              </select-filter>
              <app-control-messages [control]="f['rewardObjectType']"></app-control-messages>
            </div>
            <!-- Phân loại đối tượng khen thưởng -->
            <label class="ui-g-12 ui-md-3 ui-lg-3 control-label vt-align-right required">
              {{'rewardCategory.rewardField' | translate}}
            </label>
            <div class="ui-g-12 ui-md-3 ui-lg-3">
              <select-filter [property]="f['rewardType']" [options]="rewardTypeListByUserToInsert" optionLabel="name" optionValue="id"
                [placeHolder]="'common.label.cboMustSelect'" [disabled]="isView">
              </select-filter>
              <app-control-messages [control]="f['rewardType']"></app-control-messages>
            </div>
          </div>
          <div class="ui-g-12 vt-row">
            <!-- Mã danh mục -->
            <label class="ui-g-12 ui-md-3 ui-lg-2 control-label vt-align-right">
              {{'rewardCategory.code' | translate}}
            </label>
            <div class="ui-g-12 ui-md-3 ui-lg-3">
              <input type="text" class="form form-control" name="code" formControlName="code"
                maxlength="50" [attr.disabled]="isView? true: null">
              <app-control-messages [control]="f['code']"></app-control-messages>
            </div>
            <!-- Tên danh mục --> 
            <label class="ui-g-12 ui-md-3 ui-lg-3 control-label vt-align-right required">
              {{'rewardCategory.name' | translate}}
            </label>
            <div class="ui-g-12 ui-md-3 ui-lg-3">
              <input type="text" class="form form-control" name="name" formControlName="name"
                maxlength="200" [attr.disabled]="isView? true: null">
              <app-control-messages [control]="f['name']"></app-control-messages>
            </div>
          </div>
          <div class="ui-g-12 vt-row">
            <!-- Loại khen thưởng -->
            <label class="ui-g-12 ui-md-3 ui-lg-2 control-label vt-align-right required">
              {{'rewardCategory.rwType' | translate}}
            </label>
            <div class="ui-g-12 ui-md-3 ui-lg-3" style="line-height: 32px;">
              <div class="form-check-inline ">
                  <label class="i-checks">
                      <input type="radio" class="form-check-input control-label" id="employeeStatus_0"
                          value="1" name="rewardCategory" formControlName="rewardCategory" [attr.disabled]="isView || isRewardObjectType? true: null">
                      <i></i>
                      {{'rewardCategory.titleReward' | translate}}
                  </label>
              </div>
              <div class="form-check-inline">
                  <label class="i-checks">
                      <input type="radio" class="form-check-input control-label" id="employeeStatus_1"
                          value="2" name="rewardCategory" formControlName="rewardCategory" [attr.disabled]="isView || isRewardObjectType? true: null">
                      <i></i>
                      {{'rewardCategory.formReward' | translate}}
                  </label>
              </div>
              <div class="form-check-inline">
                <label class="i-checks">
                  <input type="radio" class="form-check-input control-label" id="employeeStatus_2"
                         value="3" name="rewardCategory" formControlName="rewardCategory" [attr.disabled]="isView || isRewardObjectType? true: null">
                  <i></i>
                  {{'rewardCategory.otherReward' | translate}}
                </label>
              </div>
            </div>
              <!-- Phân nhóm -->
            <label class="ui-g-12 ui-md-3 ui-lg-3 control-label vt-align-right required">
              {{'rewardCategory.rewardGroup' | translate}}
            </label>
            <div class="ui-g-12 ui-md-3 ui-lg-3">
              <select-filter [property]="f['rewardGroup']" [options]="rewardGroupList" optionLabel="name" optionValue="id"
                [placeHolder]="'common.label.cboMustSelect'" [disabled]="isView">
              </select-filter>
              <app-control-messages [control]="f['rewardGroup']"></app-control-messages>
            </div>
          </div>
          <div class="ui-g-12 vt-row">
            <!-- orderNumber -->
            <label class="ui-g-12 ui-md-3 ui-lg-2 control-label vt-align-right">
              {{'label.empArmyProposed.orderNumber' | translate}}
            </label>
            <div class="ui-g-12 ui-md-3 ui-lg-3">
              <input type="number" class="form form-control" name="orderNumber" formControlName="orderNumber" 
              maxlength="5" min="0" max="10000" [attr.disabled]="isView ? true: null" onKeyPress="return event.charCode >= 48">
              <app-control-messages [control]="f['orderNumber']"></app-control-messages>
            </div>
  
             <!-- Ngày hết hiệu lực -->
             <label class="ui-g-12 ui-md-3 ui-lg-3 control-label vt-align-right">
              {{'rewardCategory.expriedDate' | translate}}
            </label>
            <div class="ui-g-12 ui-md-3 ui-lg-3">
              <date-picker [disabled]="isView" [property]="f['expriedDate']"></date-picker>
            </div>
          </div>
          <div class="ui-g-12 vt-row">
            <!-- Tiền thưởng -->
            <label class="ui-g-12 ui-md-3 ui-lg-2 control-label vt-align-right">
              {{'label.empArmyProposed.proposeMoney' | translate}}
            </label>
            <div class="ui-g-12 ui-md-3 ui-lg-3">
              <input type="number" class="form form-control" name="offerMoney" formControlName="offerMoney" 
              min="0" maxlength="15" [attr.disabled]="isView ? true: null"
              oninput="javascript: if (this.value.length > 15) this.value = this.value.slice(0, 15);"
              onKeyPress="return event.charCode >= 48">
              <app-control-messages [control]="f['offerMoney']"></app-control-messages>
            </div>
            <label class="ui-g-12 ui-md-3 ui-lg-3 control-label vt-align-right required" *ngIf="!isRewardObjectType">
              {{'rewardCategory.incomeType' | translate}}
            </label>
            <div class="ui-g-12 ui-md-3 ui-lg-3" *ngIf="!isRewardObjectType">
              <select-filter [property]="f['incomeType']" [options]="incomeTypeList" optionLabel="name"
                             optionValue="value" [placeHolder]="'common.label.cboMustSelect'" [disabled]="isView">
              </select-filter>
              <app-control-messages [control]="f['incomeType']"></app-control-messages>
            </div>
          </div>
          <div class="scollTable panel panel-default" *ngIf="!isRewardObjectType">
            <div class="panel-heading vt-relative">
              <strong>
                <span class="ml-2 title-info">{{ 'rewardCategory.rewardCategoryCertificate' | translate }}</span>
              </strong>
            </div>
            <div class="panel-body panel-table">
              <reward-embryo [setData]="setData.asObservable()" [rewardCategoryId]="this.rewardCategoryId"
                (formRewardGroupOutput)="getFormRewardGroupInside($event)"></reward-embryo>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
  <div
    *ngIf="(!hasPermission('action.update') && isEdit) || (!hasPermission('action.insert') && isInsert || !hasPermission('action.update'))">
    {{'common.haveNoPermission' | translate}}
  </div>
</div>
