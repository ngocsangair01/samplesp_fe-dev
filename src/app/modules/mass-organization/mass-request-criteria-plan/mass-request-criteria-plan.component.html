<div class="card-form">
  <div class="clearfix">
    <div class="left-nav-bar pull-left row-header">
      <div>
        <img alt="back" class="img-fluid" src="./../../../../../../assets/images/home/Mask_Group_18824.png" (click)="goBack();">
        <span *ngIf="createPlan" class="title"> {{'resolutionQuarterYear.createCriteria' | translate}} </span>
        <span *ngIf="isView" class="title"> {{'resolutionQuarterYear.viewDetailCriteria' | translate}} </span>
        <span *ngIf="isInsertContentCriteria" class="title"> {{'resolutionQuarterYear.doCriteria' | translate}} </span>
      </div>
    </div>
    <div class="right-nav-bar pull-right left-option">
        <ul class="header-right sys-ul space-line">
          <li>
            <button class="btn btn-sm vt-btn mt-btn ng-star-inserted" type="button" (click)="goBack();" [innerHTML]="'common.button.out' | translate">
            </button>
          </li>
          <li *ngIf="!isRoot && isSavedTree">
            <button class="btn btn-sm vt-btn btn-submit mt-btn ng-star-inserted" type="button" (click)="processSaveOrUpdate()" [innerHTML]="'common.button.icon.save' | translate">
            </button>
          </li>
        </ul>
    </div>
  </div>
</div>
<div class="info">
  <div *ngIf="hasPermission('action.update')">
    <div id="savePage">
      <div class="panel panel-default card-info">
        <form id="formInfoRequest" [formGroup]="formInfoRequest">
          <div class="panel-heading">
            <strong>
              <!-- <span *ngIf="createPlan"> {{'resolutionQuarterYear.createCriteria' | translate}} </span>
              <span *ngIf="isView"> {{'resolutionQuarterYear.viewDetailCriteria' | translate}} </span>
              <span *ngIf="isInsertContentCriteria"> {{'resolutionQuarterYear.doCriteria' | translate}} </span> -->
              <span class="ml-2 title-info">Thông tin kế hoạch tiêu chí</span>
            </strong>
          </div>
          <div class="panel-body padding-xl ui-g" >
            <div class="ui-g-12 vt-row">
              <label *ngIf="branch === 1" class="ui-g-12 ui-md-3 ui-lg-2 control-label vt-align-right required">
                {{'label.mass.member.treeWomem' | translate}}
              </label>
              <label *ngIf="branch === 2" class="ui-g-12 ui-md-3 ui-lg-2 control-label vt-align-right required">
                {{'label.mass.member.treeYoung' | translate}}
              </label>
              <label *ngIf="branch === 3" class="ui-g-12 ui-md-3 ui-lg-2 control-label vt-align-right required">
                {{'label.mass.member.treeUnion' | translate}}
              </label>
              <div class="ui-g-12 ui-md-3 ui-lg-3">
                  <mass-org-selector
                  [property]="f['massOrganizationId']"
                  operationKey="action.view" 
                  adResourceKey="resource.massRequestCriteria"
                  [defaultValue]="true"
                  [disabled]="true"
                  [isRequiredField]="true"
                  [branch] = "branch">
                </mass-org-selector>
                <app-control-messages [control]="f['massOrganizationId']"></app-control-messages>
              </div>
              <label class="ui-g-12 ui-md-3 ui-lg-3 control-label vt-align-right required">
                {{'resolutionQuarterYear.finishDate' | translate}}
              </label>
              <div class="ui-g-12 ui-md-3 ui-lg-3">
                <date-picker
                  [disabled]="true"
                  [property]="f['finishDate']">
                </date-picker>
                <app-control-messages [control]="f['finishDate']"></app-control-messages>
              </div>
            </div>
            <div class="ui-g-12 vt-row" >
              <label class="ui-g-12 ui-md-3 ui-lg-2 control-label vt-align-right required">
                {{'massRequest.massRequestCode' | translate}}
              </label>
              <div class="ui-g-12 ui-md-3 ui-lg-3">
                <input type="text" id="massRequestCode" [attr.disabled]="true" class="form form-control" [autoFocus]="true" name="massRequestCode" formControlName="massRequestCode" maxlength="50">
                <app-control-messages [control]="f['massRequestCode']"></app-control-messages>
              </div>
              <label class="ui-g-12 ui-md-3 ui-lg-3 control-label vt-align-right required">
                {{'massRequest.massRequestName' | translate}}
              </label>
              <div class="ui-g-12 ui-md-3 ui-lg-3">
                <input type="text" class="form form-control" [attr.disabled]="true" name="massRequestName" formControlName="massRequestName" maxlength="200">
                <app-control-messages [control]="f['massRequestName']"></app-control-messages>
              </div>
            </div>
            <div class="ui-g-12 vt-row">
              <label class="ui-g-12 ui-md-3 ui-lg-2 control-label vt-align-right required">
                {{'label.mass.categoryRequest.VofficeSign' | translate}}
              </label>
              <div class="ui-g-12 ui-md-3 ui-lg-3" style="line-height: 32px;">
                <div class="form-check-inline">
                  <label class="i-checks">
                    <input type="radio" [attr.disabled]="true" class="form-check-input control-label" id="signVoffice_1" value="1" name="signVoffice" formControlName="signVoffice">
                    <i></i>
                    {{'massRequest.mustSign' | translate}}
                  </label>
                </div>
                <div class="form-check-inline">
                  <label class="i-checks">
                    <input type="radio" [attr.disabled]="true" class="form-check-input control-label" id="signVoffice_2" value="2" name="signVoffice"  formControlName="signVoffice">
                    <i></i>
                    {{'massRequest.mustNotSign' | translate}}
                  </label>
                </div>
                <app-control-messages [control]="f['signVoffice']"></app-control-messages>
              </div>
            </div>
            <div class="ui-g-12 vt-row">
              <label class="ui-g-12 ui-md-3 ui-lg-2 control-label vt-align-right">
                {{'common.label.description' | translate}}
              </label>
              <div class="ui-g-12 ui-md-9 ui-lg-9">
                <textarea type="text" name="description" [attr.disabled]="true" formControlName="description" class="form-control" rows="5" maxlength="1000"></textarea>
                <app-control-messages [control]="f['description']"></app-control-messages>
              </div>
            </div>
            <div class="ui-g-12 vt-row" >
              <div class="ui-g-12 mt30">
                <div class="ui-g-12 ui-md-3 ui-lg-3">
                  <div class="panel panel-default card-info">
                    <div class="panel-heading vt-relative">
                      <strong>
                        <span translate>resolutionQuarterYear.criteriaTree</span>
                      </strong>
                      <div class="vt-absolute vt-shotcut-button-in-heading">
                        <button id="btnExport" *ngIf="hasPermission('action.export')" type="button" class="btn-icon plus" (click)="exportCriteriaReport()" [title]="'common.header.export' | translate" ><span class="fa fa-download color-info"></span></button>
                        &nbsp;
                        <button id="btnSaveTree" *ngIf="isSaveTree" type="button" class="btn-icon plus" [title]="'common.button.save' | translate" (click)="saveTree()"><span class="fa fa-save color-info"></span></button>
                      </div>
                    </div>
                    <mass-criteria-tree
                      #tree
                      (onEditNode)="editMassCriteria($event)"
                      [rootId]="massRequestId"
                      [height]="615">
                    </mass-criteria-tree>
                  </div>
                </div>
                <div class="ui-g-12 ui-md-9 ui-lg-9">
                  <div class="panel panel-default card-info">
                    <form id="formSaveCriteria" [formGroup]="formSaveCriteria">
                      <div class="panel-heading vt-relative">
                        <strong>
                          <span translate>resolutionQuarterYear.criteriaInfo</span>
                        </strong>
                      </div>
                      <div class="panel-body padding-xl ui-g" *ngIf="!isRoot && isSavedTree">
                        <div class="ui-g-12 vt-row">
                          <label class="ui-g-12 ui-md-3 ui-lg-2 control-label vt-align-right required">
                            {{'resolutionQuarterYear.criteriaName' | translate}}
                          </label>
                          <div class="ui-g-12 ui-md-3 ui-lg-3">
                            <input #criteriaName othertype="textWithSpec" type="text" id="criteriaName" class="form form-control" name="criteriaName" formControlName="criteriaName" maxlength="500" [autoFocus]="true">
                            <app-control-messages [control]="fCriteria['criteriaName']"></app-control-messages>
                          </div>
                          <label class="ui-g-12 ui-md-3 ui-lg-3 control-label vt-align-right">
                            {{'resolutionQuarterYear.criteriaParentName' | translate}}
                          </label>
                          <div class="ui-g-12 ui-md-3 ui-lg-3">
                            <input type="text" [attr.disabled]="true" id="parentCriteriaName" class="form form-control" name="parentCriteriaName" formControlName="parentCriteriaName" maxlength="500">
                            <app-control-messages [control]="fCriteria['parentCriteriaName']"></app-control-messages>
                          </div>
                        </div>
                        <div class="ui-g-12 vt-row">
                          <label class="ui-g-12 ui-md-3 ui-lg-2 control-label vt-align-right">
                            {{'resolutionQuarterYear.criteriaOrder' | translate}}
                          </label>
                          <div class="ui-g-12 ui-md-3 ui-lg-3">
                            <input type="text" [attr.disabled]="true" id="criteriaOrder" class="form form-control" name="criteriaOrder" formControlName="criteriaOrder" maxlength="4">
                            <app-control-messages [control]="fCriteria['criteriaOrder']"></app-control-messages>
                          </div>
                        </div>
                        <div class="ui-g-12 vt-row">
                          <label class="ui-g-12 ui-md-3 ui-lg-2 control-label vt-align-right required" *ngIf="isLeaf && branch === 1">
                            {{'label.mass.member.treeWomem' | translate}}
                          </label>
                          <label class="ui-g-12 ui-md-3 ui-lg-2 control-label vt-align-right required" *ngIf="isLeaf && branch === 2">
                            {{'label.mass.member.treeYoung' | translate}}
                          </label>
                          <label class="ui-g-12 ui-md-3 ui-lg-2 control-label vt-align-right required" *ngIf="isLeaf && branch === 3">
                            {{'label.mass.member.treeUnion' | translate}}
                          </label>
                          <div class="ui-g-12 ui-md-3 ui-lg-6" *ngIf="isLeaf">
                            <mass-org-tree-selector
                              operationKey="action.view"
                              adResourceKey="resource.massRequestCriteria"
                              height="735"
                              isGetAll="true"
                              [requestId]="massCriteriaId"
                              [rootId]="f['massOrganizationId'].value"
                              #orgTree>
                            </mass-org-tree-selector>
                            <app-control-messages [control]="fCriteria['nodeCheckList']"></app-control-messages>
                          </div>
                        </div>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
  <div *ngIf="!hasPermission('action.update')">
    {{'common.haveNoPermission' | translate}}
  </div> 
</div>