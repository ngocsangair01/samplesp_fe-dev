<div class="card-form">
  <div class="clearfix">
    <div class="left-nav-bar pull-left row-header">
      <div>
        <img alt="back" class="img-fluid" src="./../../../../../../assets/images/home/Mask_Group_18824.png" (click)="goBack();">
        <span *ngIf="!f['requestDemocraticMeetingId'].value" class="title" translate> label.requestDemocraticMeeting.insert</span>
        <span *ngIf="f['requestDemocraticMeetingId'].value" class="title" translate> label.requestDemocraticMeeting.update</span>
      </div>
    </div>
    <div class="right-nav-bar pull-right left-option">
        <ul class="header-right sys-ul space-line">
          <li>
            <button class="btn btn-sm vt-btn mt-btn ng-star-inserted" type="button" (click)="goBack();" [innerHTML]="'common.button.out' | translate">
            </button>
          </li>
          <li>
            <button class="btn btn-sm vt-btn btn-submit mt-btn ng-star-inserted" type="button" (click)="processSaveOrUpdate()" [innerHTML]="'common.button.icon.save' | translate">
            </button>
          </li>
        </ul>
    </div>
  </div>
</div>
<div class="info">
  <div id="searchPage">
    <div id="searchArea">
      <div class="panel panel-default card-info">
        <div class="panel-heading">
          <strong>
            <!-- <span *ngIf="!f['requestDemocraticMeetingId'].value" translate> label.requestDemocraticMeeting.insert</span>
            <span *ngIf="f['requestDemocraticMeetingId'].value" translate> label.requestDemocraticMeeting.update</span> -->
            <span class="ml-2 title-info">Thông tin yêu cầu họp dân chủ</span>
          </strong>
        </div>
        <form id="formSave" [formGroup]="formSave">
          <div class="panel-body padding-xl ui-g">
            <div class="ui-g-12 vt-row">
              <label class="ui-g-12 ui-md-3 ui-lg-2 control-label vt-align-right required">
                {{'app.requestResolutionMonth.code' | translate}}
              </label>
              <div class="ui-g-12 ui-md-3 ui-lg-3">
                <input type="text" class="form form-control" name="code" formControlName="code" [autoFocus]="true" maxlength="50">
                <app-control-messages [control]="f['code']"></app-control-messages>
              </div>
              <label class="ui-g-12 ui-md-3 ui-lg-3 control-label vt-align-right required">
                {{'label.resolutionsMonth.name' | translate}}
              </label>
              <div class="ui-g-12 ui-md-3 ui-lg-3">
                <input type="text" class="form form-control" name="name" formControlName="name" maxlength="200">
                <app-control-messages [control]="f['name']"></app-control-messages>
              </div>
            </div>
            <div class="ui-g-12 vt-row">
              <label class="ui-g-12 ui-md-3 ui-lg-2 control-label vt-align-right required">
                {{'app.requestResolutionMonth.requestedDate' | translate}}
              </label>
              <div class="ui-g-12 ui-md-3 ui-lg-3">
                <date-picker
                  [property]="f['requestDate']">
                </date-picker>
                <app-control-messages [control]="f['requestDate']"></app-control-messages>
              </div>
              <label class="ui-g-12 ui-md-3 ui-lg-3 control-label vt-align-right required">
                {{'app.requestResolutionMonth.finishDate' | translate}}
              </label>
              <div class="ui-g-12 ui-md-3 ui-lg-3">
                <date-picker
                  [property]="f['finishDate']">
                </date-picker>
                <app-control-messages [control]="f['finishDate']"></app-control-messages>
              </div>
            </div>
            <div class="ui-g-12 vt-row">
              <label class="ui-g-12 ui-md-3 ui-lg-2 control-label vt-align-right required">
                {{'democraticmeeting.label.organizationRequest' | translate}}
              </label>
              <div class="ui-g-12 ui-md-3 ui-lg-3">
                <org-selector 
                [property]="f['organizationId']" 
                operationKey="action.view" 
                adResourceKey="resource.requestDemocraticMeeting"
                [defaultValue]="false"
                [isRequiredField]="true"
                (onChange) = "onChangeUnit($event,orgSelectorNotLeafOrg)"
                #orgSelectorNotLeafOrg
                >
                </org-selector>
                <app-control-messages [control]="f['organizationId']"></app-control-messages>
              </div>
              <label class="ui-g-12 ui-md-3 ui-lg-3 control-label vt-align-right ">
                {{'app.responseResolutionMonth.instructionFile' | translate}}
              </label>
              <div class="ui-g-12 ui-md-3 ui-lg-3">
                <file-chooser
                  [property]="f['attachFile']"
                  htmlId="attachFile"
                  validType="xls,xlsx,doc,docx,pdf"
                  [validMaxSize]="50">
                </file-chooser>
                <app-control-messages [control]="f['attachFile']"></app-control-messages>
              </div>
            </div>
            <div class="ui-g-12 vt-row">
              <label class="ui-g-12 ui-md-3 ui-lg-2 control-label vt-align-right required">
                {{'democraticmeeting.label.orgMeeting' | translate}}
              </label>
              <div class="ui-g-12 ui-md-3 ui-lg-3">
                <org-tree-selector
                  operationKey="action.view"
                  adResourceKey="resource.requestDemocraticMeeting"
                  height="735"
                  #orgTree
                  isGetAll = "true"
                  [requestId] = "requestDemocraticMeetingId"
                  [rootId] = "f['organizationId'].value"
                >
                </org-tree-selector>
                <app-control-messages [control]="f['lstNodeCheck']"></app-control-messages>
              </div>
              <label class="ui-g-12 ui-md-3 ui-lg-3 control-label vt-align-right ">
                Ghi chú
              </label>
              <div class="ui-g-12 ui-md-3 ui-lg-3">
                <textarea maxlength="1000" formControlName="description" id="description" cols="200" rows="3" class="form-control"></textarea>
                <app-control-messages [control]="f['description']"></app-control-messages>
              </div>
            </div> 
          </div>
        </form>
      </div>
    </div>
  </div>
</div>


