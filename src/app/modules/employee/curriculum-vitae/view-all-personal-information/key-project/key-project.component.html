<div class="panel panel-default">
  <div class="panel-heading vt-relative">
    <strong class="text-u-c">
      <i class="fa fa-th"></i>
      &nbsp;{{'employeeInfo.keyProject.title' | translate}}
    </strong>
  </div>
  <div class="panel-body panel-table">
    <p-table
      #pTable
      [value]="resultList.data"
      [paginator]="true"
      [lazy]="true" [rows]="changeRow"
      [totalRecords]="resultList.recordsTotal"
      (onLazyLoad)="processSearchKeyProjectForEmployee(employeeId, $event)"
      [scrollable]="true"
      [lazyLoadOnInit]="false"
      tableStyleClass="table table-wrapper table-hover table-striped b-t b-b"
    > 
      <ng-template pTemplate="colgroup" let-columns>
        <colgroup>
          <col class="size-1">
          <col class="size-12">
          <col class="size-12" >
          <col class="size-12">
          <col class="size-3">
          <col class="size-3">
          <col class="size-12">
        </colgroup>
      </ng-template>
      <ng-template pTemplate="header">
        <tr>
          <th translate>common.table.index</th>
          <th pSortableColumn="code" translate>
            employeeInfo.keyProject.code
            <p-sortIcon field="code"></p-sortIcon>
          </th>
          <th pSortableColumn="name" translate>
            employeeInfo.keyProject.name
            <p-sortIcon field="name"></p-sortIcon>
          </th>
          <th pSortableColumn="type" translate>
            employeeInfo.keyProject.type
            <p-sortIcon field="type"></p-sortIcon>
          </th>
          <th pSortableColumn="startDate" translate>
            employeeInfo.keyProject.startDate
            <p-sortIcon field="startDate"></p-sortIcon>
          </th>
          <th pSortableColumn="endDate" translate>
            employeeInfo.keyProject.endDate
            <p-sortIcon field="endDate"></p-sortIcon>
          </th>
          <th pSortableColumn="roleName" translate>
            employeeInfo.keyProject.role
            <p-sortIcon field="roleName"></p-sortIcon>
          </th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-item let-index="rowIndex+1">
        <tr>
          <td class="vt-align-center">{{ index }}</td>
          <td class="vt-align-center">{{ item.code }}</td>
          <td class="vt-align-left">{{ item.name }}</td>
          <td class="vt-align-center">{{ item.typeName }}</td>
          <td class="vt-align-center">{{ item.startDate | displayDate }}</td>
          <td class="vt-align-center">{{ item.endDate | displayDate }}</td>
          <td class="vt-align-center">{{ item.roleName }}</td>
        </tr>
      </ng-template>
      <ng-template pTemplate="emptymessage">
        <tr class="emptymessage">
          <td [attr.colspan]="7" [innerHTML]="'app.noRecords' | translate">
          </td>
        </tr>
      </ng-template>
      <ng-template pTemplate="paginatorleft">
        <table-footer (changeRow)="onTablePageChange($event)" [resultList]="resultList"></table-footer>
      </ng-template>
    </p-table>
  </div>
</div>