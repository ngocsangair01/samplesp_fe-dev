<div class="modal-body orgSelectorModal">
  <form [formGroup]="formSearch" id="formSearch">
    <div class="panel panel-default">
      <div class="panel-heading vt-relative">
        <strong class="text-u-c">
          <i class="fa fa-th"></i>&nbsp;
          <span>IMPORT KẾT QUẢ THI</span>
        </strong>
        <div class="vt-absolute vt-shotcut-button-in-heading">          &nbsp;
          <button  class="btn btn-span btn-sm btn-info btn-close"
                  title="{{'common.button.close' | translate}}" type="button" (click)="activeModal.close()">
            <i class="fa fa-times"></i>
          </button>
        </div>
      </div>
      <div class="panel-body modal-content-body">
        <div>
          <!-- 1 -->
          <div *ngIf="(isBasicDivSearch && isShowVertical) || !isShowVertical"
               [ngClass]="isShowVertical?'':'ui-g vt-row'">
            <div [ngClass]="isShowVertical?'ui-g-12 vt-padding-vertical':'ui-lg-12 rows'">
              <label
                      [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-lg-12 control-label vt-label-unset-padding-top':'ui-g-12 ui-md-6 ui-lg-2 control-label vt-align-right'">
                {{'label.training-topic.title' | translate}}
              </label>
              <div [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-lg-11 vt-float-right vt-padding-vertical':'ui-g-12 ui-md-6 ui-lg-9'">
                <input type="text" class="form form-control" name="titleTrainingTopic"
                       formControlName="title" [readOnly]="true">
              </div>
            </div>

          </div>
          <!-- 2 -->
          <div *ngIf="(isBasicDivSearch && isShowVertical) || !isShowVertical"
               [ngClass]="isShowVertical?'':'ui-g vt-row'">
            <div [ngClass]="isShowVertical?'ui-g-12 vt-padding-vertical':'ui-md-6 rows'">
              <label
                      [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-lg-12 control-label vt-label-unset-padding-top required':'ui-g-12 ui-md-6 ui-lg-4 control-label vt-align-right required'">
                {{'label.training-class.choose-class' | translate}}
              </label>
              <div [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-lg-11 vt-float-right vt-padding-vertical':'ui-g-12 ui-md-6 ui-lg-6'"
              >
                <!--                <p-dropdown [formControl]="formSearch.controls.trainingClassId" [options]="trainingClassOptions"-->
                <!--                            [placeholder]="'placeholder.all' | translate" [showClear]="true"-->
                <!--                            [filter]="true" [emptyFilterMessage]="emptyFilterMessage" (onChange)="onChangeClass()"-->
                <!--                            [resetFilterOnHide]="true">-->
                <!--                </p-dropdown>-->
                <select-filter [optionLabel]="'label'" [optionValue]="'value'" [property]="f['trainingClassId']"
                               [options]="trainingClassOptions" [placeHolder]="'placeholder.choose'"
                               [filter]="true" (onChange)="onChangeClass()">
                </select-filter>
                <app-control-messages [control]="f['trainingClassId']"></app-control-messages>

              </div>
            </div>
            <div [ngClass]="isShowVertical?'ui-g-12 vt-padding-vertical':'ui-md-6 rows'">
              <label
                      [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-lg-12 control-label vt-label-unset-padding-top':'ui-g-12 ui-md-6 ui-lg-4 control-label vt-align-right'">
                {{'label.training-class.class-url' | translate}}
              </label>
              <div [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-lg-11 vt-float-right vt-padding-vertical':'ui-g-12 ui-md-6 ui-lg-6'">
                <input type="text" class="form form-control" name="url"
                       formControlName="url" [readOnly]="true">
              </div>
            </div>
          </div>
          <!-- 3 -->
          <div *ngIf="(isBasicDivSearch && isShowVertical) || !isShowVertical"
               [ngClass]="isShowVertical?'':'ui-g vt-row'">
            <div [ngClass]="'rows'">
              <label class="ui-g-12 ui-md-6 ui-lg-2 control-label vt-align-right required">
                {{'controls.choseFile' | translate}}
              </label>
              <div class="ui-g-12 ui-md-6 ui-lg-3">
                <file-chooser [property]="f['fileImport']" validMaxSize="50" validType="xls" (onFileChange)="processImport()">
                </file-chooser>
                <app-control-messages [control]="f['fileImport']"></app-control-messages>
                <br>
                <a class="text-link" (click)="processDownloadTemplate();">
                  <span translate><i class="fa fa-download"></i> app.common.downloadTemplate</span>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="rows k-justify-content-center m-b-lg" >
<!--        <button type="submit" class="btn btn-sm vt-btn btn-submit" (click)="processImport()"-->
<!--                [innerHTML]="'bonusType.import' | translate"></button>-->
        <button type="submit" class="btn btn-sm vt-btn btn-submit" (click)="processSaveImport()"
                [innerHTML]="'bonusType.import' | translate"></button>
        <button class="btn btn-sm vt-btn ng-star-inserted" type="button" (click)="activeModal.close()"
                [innerHTML]="'common.button.close' | translate">
        </button>
      </div>
    </div>
  </form>

  <form id="formResult" [formGroup]="formResult" class="mt-3">
      <div class="panel-body panel-table">
<!--        <table-view (lazyLoad)="processImport()" [optionTemplate]="optionTemplate"-->
<!--                    [title]="'label.training-topic.listDataImport'" [columnsConfig]="tableColumnsConfig" [resultList]="resultList"-->
<!--                    [isShowVertical]="isShowVertical"-->
<!--                    [isShowHideVertical]="isShowHideVertical">-->
<!--          <ng-template #optionTemplate let-rowData let-rowIndex="rowIndex">-->
<!--            <td class="vt-align-center">{{rowIndex + 1}}</td>-->
<!--            <td class="vt-align-left">{{rowData.employeeCode}}</td>-->
<!--            <td class="vt-align-left">{{rowData.employeeName}}</td>-->
<!--            <td class="vt-align-left">{{rowData.organizationName}}</td>-->
<!--            <td class="vt-align-left">{{rowData.score}}</td>-->
<!--            <td class="vt-align-left">{{rowData.actualDate | date: 'dd/MM/yyyy'}}</td>-->
<!--          </ng-template>-->
<!--        </table-view>-->
        <p-table [value]="formResult.controls" tableStyleClass="table controls-table table-wrapper b-t b-b"
                 [customSort]="true" [paginator]="true" [first]="firstRowIndex"
                 [rows]="pageSize" [totalRecords]="formResult.controls.length" [resizableColumns]="true" [scrollable]="true">
          <ng-template pTemplate="colgroup" let-columns>
            <colgroup>
              <col style="width: 50px;">
              <!--            <col style="width: 100px;" >-->
              <col style="width: 100px;" >
              <col style="width: 100px;" >
              <col style="width: 350px;" >
              <col style="width: 50px;" >
              <col style="width: 150px;" >
            </colgroup>
          </ng-template>
          <ng-template pTemplate="header">
            <tr>
              <th pResizableColumn translate><span>common.table.index</span></th>
              <!--            <th pResizableColumn translate ><span>common.label.action</span></th>-->
              <th pResizableColumn translate ><span class="required">training-topic.employee-code</span></th>
              <th pResizableColumn translate ><span class="required">training-topic.employee-name</span></th>

              <th pResizableColumn translate ><span>training-topic.employee-organization</span>
              <th pResizableColumn translate><span >label.training-class-member.result</span>
              <th pResizableColumn translate><span >label.training-class-member.time-test</span>
              </th>
            </tr>
          </ng-template>
          <ng-template  pTemplate="body" let-item let-index="rowIndex">
            <tr [formGroup]="item">
              <td class="vt-align-center">
                {{index+1}}
              </td>
              <!--            <td class="vt-align-center" >-->
              <!--              <button *ngIf="!isView" class="btn-icon plus" type="button" (click)="add(index, item)"-->
              <!--                [innerHTML]="'common.icon.plus' | translate">-->
              <!--              </button>-->
              <!--              <button *ngIf="!isView" class="btn-icon minus" type="button" (click)="remove(index, item)"-->
              <!--                [innerHTML]="'common.icon.minus' | translate">-->
              <!--                <span class="glyphicons glyphicons-minus icon-table delete" title="Xóa"></span>-->
              <!--              </button>-->
              <!--            </td>-->
              <td>{{item.controls.employeeCode.value}}</td>
              <td>{{item.controls.employeeName.value}}</td>
              <td>{{item.controls.orgFullName.value}}</td>
              <td>{{item.controls.score.value}}</td>
              <td>{{item.controls.actualDate.value | displayDate}}</td>
            </tr>
          </ng-template>
        </p-table>
      </div>
  </form>
  <div  class="mt-3" *ngIf="dataError">
    <import-error [data]="dataError"></import-error>
  </div>

</div>
