<div [ngClass]="isShowVertical?'show-title':''">
    <div id="searchPage"
        [ngStyle]="{'width': isShowVertical && !isShowHideVertical ? '0%' : '', 'min-width': isShowVertical && !isShowHideVertical ? '0%' : '', 'position':'relative', 'z-index':'1'}"
        [ngClass]="isShowVertical?'display-search-vertical':'display-search-not-vertical'">
        <div id="searchArea" [ngClass]="isShowVertical?'display-max-vertical-height':''">
            <div
                [ngClass]="isShowVertical?'panel panel-default unset-margin-bottom-vertical display-max-vertical':'panel panel-default'">
                <form [formGroup]="formSearch" id="formSearch">
                    <button type="submit" class="btn btn-sm vt-btn btn-submit" (click)="processSearch()" style="display: none"
                        [innerHTML]="'common.button.icon.search' | translate"></button>
                    <div style="overflow: unset"
                        [ngClass]="isBasicSearch?'panel-heading':'panel-heading vt-border-hide-search'">
                        <a *ngIf="!isShowVertical"
                            style="color: #202123; font-weight: 600; font-size: 16px; height: 40px"
                            (click)="pressLabelSearchBasic()">
                            <div *ngIf="isBasicSearch && !isShowVertical"
                                style="height: 100%; padding: 9px 20px 9px 15px;">
                                <i class="fa fa-caret-down"></i>
                                {{'common.label.hideBasicSearch' | translate}}
                            </div>
                            <div *ngIf="!isBasicSearch && !isShowVertical"
                                style="height: 100%; padding: 9px 20px 9px 15px;">
                                <i class="fa fa-caret-right"></i>
                                {{'common.label.showBasicSearch' | translate}}
                            </div>
                        </a>
                        <span *ngIf="isShowVertical"
                            style="color: #202123; font-weight: 600; font-size: 16px; height: 40px; padding-left: 10px; padding-top: 10px;">
                            <!--                            <img alt="back" class="img-fluid icon-show-hide-search" src="./../../../../../../assets/images/home/Mask_Group_24370.png" (click)="closeBasicSearch()">-->
                            {{'common.label.showBasicSearch' | translate}}
                        </span>
                        <div *ngIf="isBasicSearch && !isMobileScreen" class="show-btn-right-header">
                            <div ngbDropdown class="d-inline-block">
                                <button class="btn btn-sm vt-btn" ngbDropdownToggle>
                                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                                        width="14" height="14" viewBox="0 0 24 24">
                                        <defs>
                                            <clipPath id="clip-path">
                                                <rect id="Rectangle_11011" data-name="Rectangle 11011" width="24"
                                                    height="24" transform="translate(1621 24)" fill="#000" stroke="#fff"
                                                    stroke-width="1" />
                                            </clipPath>
                                        </defs>
                                        <g id="Mask_Group_19451" data-name="Mask Group 19451"
                                            transform="translate(-1621 -24)" clip-path="url(#clip-path)">
                                            <g id="setting-2" transform="translate(1619.606 22.614)">
                                                <path id="Path_63716" data-name="Path 63716"
                                                    d="M13.383,17.565a4.182,4.182,0,1,1,4.182-4.182A4.184,4.184,0,0,1,13.383,17.565Zm0-6.691a2.509,2.509,0,1,0,2.509,2.509A2.513,2.513,0,0,0,13.383,10.874Z"
                                                    fill="#000" />
                                                <path id="Path_63717" data-name="Path 63717"
                                                    d="M16.963,24.747a3.033,3.033,0,0,1-.7-.089,2.739,2.739,0,0,1-1.639-1.238l-.134-.223c-.658-1.138-1.561-1.138-2.219,0l-.123.212a2.674,2.674,0,0,1-1.639,1.249,2.611,2.611,0,0,1-2.041-.279l-1.918-1.1a2.955,2.955,0,0,1-1.093-4.037,1.492,1.492,0,0,0,.223-1.405,1.486,1.486,0,0,0-1.327-.513,2.96,2.96,0,0,1-2.955-2.955V12.4A2.96,2.96,0,0,1,4.349,9.446a1.486,1.486,0,0,0,1.327-.513,1.462,1.462,0,0,0-.223-1.405,2.968,2.968,0,0,1-.29-2.242,2.877,2.877,0,0,1,1.383-1.8l1.929-1.1a2.7,2.7,0,0,1,3.68.97l.134.223c.658,1.138,1.561,1.138,2.219,0l.123-.212a2.692,2.692,0,0,1,3.691-.97l1.918,1.1a2.955,2.955,0,0,1,1.093,4.037,1.492,1.492,0,0,0-.223,1.405,1.486,1.486,0,0,0,1.327.513,2.96,2.96,0,0,1,2.955,2.955v1.963a2.96,2.96,0,0,1-2.955,2.955,1.486,1.486,0,0,0-1.327.513,1.462,1.462,0,0,0,.223,1.405,2.918,2.918,0,0,1,.29,2.242,2.877,2.877,0,0,1-1.383,1.8l-1.929,1.1a2.775,2.775,0,0,1-1.349.357Zm-3.58-4.126a3.039,3.039,0,0,1,2.554,1.729l.123.212a1.022,1.022,0,0,0,1.383.368l1.929-1.115a1.29,1.29,0,0,0,.48-1.751,3.062,3.062,0,0,1-.223-3.078,3.047,3.047,0,0,1,2.777-1.349,1.276,1.276,0,0,0,1.283-1.283V12.39a1.283,1.283,0,0,0-1.283-1.283,3.047,3.047,0,0,1-2.777-1.349,3.062,3.062,0,0,1,.223-3.078,1.275,1.275,0,0,0,.123-.97,1.3,1.3,0,0,0-.591-.781l-1.929-1.1a1.026,1.026,0,0,0-1.405.368l-.123.212a3.039,3.039,0,0,1-2.554,1.729,3.039,3.039,0,0,1-2.554-1.729L10.7,4.182a1.024,1.024,0,0,0-1.383-.357L7.383,4.941A1.29,1.29,0,0,0,6.9,6.691,3.062,3.062,0,0,1,7.126,9.77a3.047,3.047,0,0,1-2.777,1.349A1.276,1.276,0,0,0,3.067,12.4v1.963a1.283,1.283,0,0,0,1.283,1.283A3.047,3.047,0,0,1,7.126,17,3.062,3.062,0,0,1,6.9,20.074a1.275,1.275,0,0,0-.123.97,1.3,1.3,0,0,0,.591.781l1.929,1.1a.986.986,0,0,0,.77.112,1.058,1.058,0,0,0,.636-.48l.123-.212a3.061,3.061,0,0,1,2.554-1.729Z"
                                                    fill="#000" />
                                            </g>
                                        </g>
                                    </svg>
                                </button>
                                <div ngbDropdownMenu class="vt-dropdown-menu">
                                    <button class="dropdown-item" (click)="showFormSearch(false)"
                                        [innerHTML]="'common.button.header.actShowFollowRow' | translate"></button>
                                    <button class="dropdown-item" (click)="showFormSearch(true)"
                                        [innerHTML]="'common.button.header.actShowFollowColumn' | translate"></button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div *ngIf="isBasicSearch" class="vt-border-side-bottom">
                        <div [ngClass]="{'panel-body padding-xl padding-body-search vt-display-block': isShowVertical}">
                            <a *ngIf="isShowVertical"
                                style="color: #202123; font-weight: 600; font-size: 14px; height: 40px"
                                (click)="pressLabelSearchBasicDiv()">
                                <div *ngIf="isBasicDivSearch && isShowVertical" style="padding: 9px 20px 9px 15px;">
                                    <i class="fa fa-caret-down"></i>
                                    {{'common.label.basicSearch' | translate}}
                                </div>
                                <div *ngIf="!isBasicDivSearch && isShowVertical" style="padding: 9px 20px 9px 15px;">
                                    <i class="fa fa-caret-right"></i>
                                    {{'common.label.basicSearch' | translate}}
                                </div>
                            </a>
                            <div *ngIf="!isMobileScreen">
                                <!-- 1 -->
                                <div *ngIf="(isBasicDivSearch && isShowVertical) || !isShowVertical"
                                    [ngClass]="isShowVertical?'':'ui-g vt-row'">
                                    <div [ngClass]="isShowVertical?'ui-g-12 vt-padding-vertical':'ui-md-6 rows'">
                                        <label
                                            [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-lg-12 control-label vt-label-unset-padding-top':'ui-g-12 ui-md-6 ui-lg-4 control-label vt-align-right'">
                                            <p-checkbox *ngIf="isShowVertical"
                                                [formControl]="formSearch.controls.isTitle" binary="true"></p-checkbox>
                                            {{'label.training-topic.title' | translate}}
                                        </label>
                                        <div [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-lg-11 vt-float-right vt-padding-vertical':'ui-g-12 ui-md-6 ui-lg-6'"
                                            *ngIf="(formSearch.controls.isTitle.value && isShowVertical) || !isShowVertical">
                                            <input type="text" class="form form-control" name="title"
                                                formControlName="title">
                                        </div>
                                    </div>
                                    <div [ngClass]="isShowVertical?'ui-g-12 vt-padding-vertical':'ui-md-6 rows'">
                                        <label
                                            [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-lg-12 control-label vt-label-unset-padding-top':'ui-g-12 ui-md-6 ui-lg-4 control-label vt-align-right'">
                                            <p-checkbox *ngIf="isShowVertical"
                                                [formControl]="formSearch.controls.isThoroughOrganizationId"
                                                binary="true"></p-checkbox>
                                            {{'label.training-topic.org-tkqt' | translate}}
                                        </label>
                                        <div [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-lg-11 vt-float-right vt-padding-vertical':'ui-g-12 ui-md-6 ui-lg-6'"
                                            *ngIf="(formSearch.controls.isThoroughOrganizationId.value && isShowVertical) || !isShowVertical">
                                            <party-org-selector
                                                #partyOrgSelector
                                                [property]="formSearch.controls.thoroughLevel"
                                                operationKey="action.view"
                                                adResourceKey="resource.trainingTopic"
                                                (onChange)="onChangeThoroughLevel()"
                                            >
                                            </party-org-selector>

                                        </div>
                                    </div>
                                </div>
                                <!-- 2 -->
                                <div *ngIf="(isBasicDivSearch && isShowVertical) || !isShowVertical"
                                    [ngClass]="isShowVertical?'':'ui-g vt-row'">
                                    <div [ngClass]="isShowVertical?'ui-g-12 vt-padding-vertical':'ui-md-6 rows'">
                                        <label
                                            [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-lg-12 control-label vt-label-unset-padding-top':'ui-g-12 ui-md-6 ui-lg-4 control-label vt-align-right'">
                                            <p-checkbox *ngIf="isShowVertical"
                                                [formControl]="formSearch.controls.isIssueLevel" binary="true"></p-checkbox>
                                            {{'label.training-topic.group' | translate}}
                                        </label>
                                        <div [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-lg-11 vt-float-right vt-padding-vertical':'ui-g-12 ui-md-6 ui-lg-6'"
                                            *ngIf="(formSearch.controls.isIssueLevel.value && isShowVertical) || !isShowVertical">
                                            <p-dropdown [formControl]="formSearch.controls.issueLevel" [options]="issueLevelOptions"
                                                [placeholder]="'placeholder.all' | translate" [showClear]="true"
                                                [filter]="true" [emptyFilterMessage]="emptyFilterMessage"
                                                [resetFilterOnHide]="true">
                                            </p-dropdown>
                                        </div>
                                    </div>
                                    <div [ngClass]="isShowVertical?'ui-g-12 vt-padding-vertical':'ui-md-6 rows'">
                                        <label
                                            [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-lg-12 control-label vt-label-unset-padding-top':'ui-g-12 ui-md-6 ui-lg-4 control-label vt-align-right'">
                                            <p-checkbox *ngIf="isShowVertical"
                                                [formControl]="formSearch.controls.isObjectType" binary="true">
                                            </p-checkbox>
                                            {{'label.training-topic.training-objects' | translate}}
                                        </label>
                                        <div [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-lg-11 vt-float-right vt-padding-vertical':'ui-g-12 ui-md-6 ui-lg-6'"
                                            *ngIf="(formSearch.controls.isObjectType.value && isShowVertical) || !isShowVertical">
<!--                                            <p-dropdown [optionLabel]="'name'"-->
<!--                                                [formControl]="formSearch.controls.typeThorough"-->
<!--                                                [options]="objectTypeOptions"-->
<!--                                                [placeholder]="'placeholder.all' | translate" [showClear]="true"-->
<!--                                                [filter]="true" [emptyFilterMessage]="emptyFilterMessage"-->
<!--                                                [resetFilterOnHide]="true">-->
<!--                                            </p-dropdown>-->
                                            <multi-select-filter  [optionLabel]="'name'" [optionValue]="'id'" [property]="f['objectTypeTraining']"
                                                                 [options]="objectTypeOptions" [showVertical] = true
                                            >
                                            </multi-select-filter>
                                            <app-control-messages [control]="f['objectTypeTraining']"></app-control-messages>
                                        </div>
                                    </div>
                                </div>
                                <!-- 3 -->
                                <div *ngIf="(isBasicDivSearch && isShowVertical) || !isShowVertical"
                                    [ngClass]="isShowVertical?'':'ui-g vt-row'">
                                    <div [ngClass]="isShowVertical?'ui-g-12 vt-padding-vertical':'ui-md-6 rows'">
                                        <label
                                            [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-lg-12 control-label vt-label-unset-padding-top required':'ui-g-12 ui-md-6 ui-lg-4 control-label vt-align-right required'">
                                            <p-checkbox *ngIf="isShowVertical"
                                                [formControl]="formSearch.controls.isFromStartDate" binary="true">
                                            </p-checkbox>
                                            {{'label.training-topic.from-date' | translate}}
                                        </label>
                                        <div [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-lg-11 vt-float-right vt-padding-vertical':'ui-g-12 ui-md-6 ui-lg-6 rows'"
                                            *ngIf="(formSearch.controls.isFromStartDate.value && isShowVertical) || !isShowVertical">
                                            <div class="ui-lg-2" style="color: rgba(78,3,0,1); font-size: 13px">Từ ngày</div> <div class="ui-lg-10"><date-picker [property]="formSearch.controls.fromStartDate">
                                            </date-picker></div>
                                            <app-control-messages [control]="f['fromStartDate']"></app-control-messages>
                                        </div>
                                    </div>
                                    <div [ngClass]="isShowVertical?'ui-g-12 vt-padding-vertical':'ui-md-6 rows'">
                                        <label
                                            [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-lg-12 control-label vt-label-unset-padding-top required':'ui-g-12 ui-md-6 ui-lg-4 control-label vt-align-right required'">
                                            <p-checkbox *ngIf="isShowVertical"
                                                [formControl]="formSearch.controls.isToStartDate" binary="true">
                                            </p-checkbox>
                                            {{'label.training-topic.from-date' | translate}}
                                        </label>
                                        <div [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-lg-11 vt-float-right vt-padding-vertical':'ui-g-12 ui-md-6 ui-lg-6 rows'"
                                            *ngIf="(formSearch.controls.isToStartDate.value && isShowVertical) || !isShowVertical">
                                            <div class="ui-lg-2" style="color: rgba(78,3,0,1); font-size: 13px">Đến ngày</div> <div class="ui-lg-10"><date-picker [property]="formSearch.controls.toStartDate"></date-picker></div>
                                            <app-control-messages [control]="f['toStartDate']"></app-control-messages>
                                        </div>
                                    </div>
                                </div>
                                <!-- 4 -->
                                <div *ngIf="(isBasicDivSearch && isShowVertical) || !isShowVertical"
                                     [ngClass]="isShowVertical?'':'ui-g vt-row'">
                                    <div [ngClass]="isShowVertical?'ui-g-12 vt-padding-vertical':'ui-md-6 rows'">
                                        <label
                                                [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-lg-12 control-label vt-label-unset-padding-top':'ui-g-12 ui-md-6 ui-lg-4 control-label vt-align-right'">
                                            <p-checkbox *ngIf="isShowVertical"
                                                        [formControl]="formSearch.controls.isFromEndDate" binary="true">
                                            </p-checkbox>
                                            {{'label.training-topic.to-date' | translate}}
                                        </label>
                                        <div [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-lg-11 vt-float-right vt-padding-vertical':'ui-g-12 ui-md-6 ui-lg-6 rows'"
                                             *ngIf="(formSearch.controls.isFromEndDate.value && isShowVertical) || !isShowVertical">
                                            <div class="ui-lg-2" style="color: rgba(78,3,0,1); font-size: 13px">Từ ngày</div> <div class="ui-lg-10"><date-picker [property]="formSearch.controls.fromEndDate" ></date-picker></div>
                                        </div>
                                    </div>
                                    <div [ngClass]="isShowVertical?'ui-g-12 vt-padding-vertical':'ui-md-6 rows'">
                                        <label
                                                [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-lg-12 control-label vt-label-unset-padding-top':'ui-g-12 ui-md-6 ui-lg-4 control-label vt-align-right'">
                                            <p-checkbox *ngIf="isShowVertical"
                                                        [formControl]="formSearch.controls.isToEndDate" binary="true">
                                            </p-checkbox>
                                            {{'label.training-topic.to-date' | translate}}
                                        </label>
                                        <div [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-lg-11 vt-float-right vt-padding-vertical':'ui-g-12 ui-md-6 ui-lg-6 rows'"
                                             *ngIf="(formSearch.controls.isToEndDate.value && isShowVertical) || !isShowVertical">
                                            <div class="ui-lg-2" style="color: rgba(78,3,0,1); font-size: 13px">Đến ngày</div> <div class="ui-lg-10"><date-picker [property]="formSearch.controls.toEndDate"></date-picker></div>
                                        </div>
                                    </div>
                                </div>
                                <!-- 5 -->
                                <div *ngIf="(isBasicDivSearch && isShowVertical) || !isShowVertical"
                                    [ngClass]="isShowVertical?'':'ui-g vt-row'">
                                    <div [ngClass]="isShowVertical?'ui-g-12 vt-padding-vertical':'ui-md-6 rows'">
                                        <label
                                            [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-lg-12 control-label vt-label-unset-padding-top':'ui-g-12 ui-md-6 ui-lg-4 control-label vt-align-right'">
                                            <p-checkbox *ngIf="isShowVertical"
                                                [formControl]="formSearch.controls.isStatus" binary="true"></p-checkbox>
                                            {{'label.training-topic.status' | translate}}
                                        </label>
                                        <div [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-lg-11 vt-float-right vt-padding-vertical':'ui-g-12 ui-md-6 ui-lg-6'"
                                            *ngIf="(formSearch.controls.isStatus.value && isShowVertical) || !isShowVertical">
                                            <multi-select-filter  [optionLabel]="'name'" [optionValue]="'id'" [property]="f['status']"
                                                                 [options]="statusOptions" [showVertical] = true
                                            >
                                            </multi-select-filter>
                                            <app-control-messages [control]="f['status']"></app-control-messages>
                                        </div>
                                    </div>
                                    <div [ngClass]="isShowVertical?'ui-g-12 vt-padding-vertical':'ui-md-6 rows'">
                                        <label
                                            [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-lg-12 control-label vt-label-unset-padding-top':'ui-g-12 ui-md-6 ui-lg-4 control-label vt-align-right'">
                                            <p-checkbox *ngIf="isShowVertical"
                                                [formControl]="formSearch.controls.isParentId" binary="true">
                                            </p-checkbox>
                                            {{'label.training-topic.parent-training-topic' | translate}}
                                        </label>
                                        <div [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-lg-11 vt-float-right vt-padding-vertical':'ui-g-12 ui-md-6 ui-lg-6'"
                                            *ngIf="(formSearch.controls.isParentId.value && isShowVertical) || !isShowVertical">
<!--                                            <data-picker-->
<!--                                                [property]="formSearch.controls.parentId"-->
<!--                                                systemCode="political"-->
<!--                                                operationKey="action.view"-->
<!--                                                adResourceKey="CTCT_THOROUGH_CONTENT"-->
<!--                                                objectBO="ThoroughContentBO"-->
<!--                                                codeField="status"-->
<!--                                                nameField="title"-->
<!--                                                selectField="thoroughContentId"-->
<!--                                                filterCondition="AND obj.status = 1-->
<!--                                                    ORDER BY obj.created_date DESC">-->
<!--                                            </data-picker>-->
                                            <parent-training-topic-picker
                                                    [property]="f['parentId']"
                                                    systemCode="political"
                                                    operationKey="action.view"
                                                    adResourceKey="CTCT_TRAINING_TOPIC"
                                                    objectBO="TrainingTopicBO"
                                                    codeField="thoroughLevel"
                                                    nameField="title"
                                                    selectField="trainingTopicId"
                                                    [filterCondition]="filterCondition"
                                            >
                                            </parent-training-topic-picker>
                                        </div>
                                    </div>
                                </div>
                                <!-- 6 -->
                                <div *ngIf="(isBasicDivSearch && isShowVertical) || !isShowVertical"
                                    [ngClass]="isShowVertical?'':'ui-g vt-row'">
                                    <div [ngClass]="isShowVertical?'ui-g-12 vt-padding-vertical':'ui-md-6 rows'">
                                        <label
                                            [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-lg-12 control-label vt-label-unset-padding-top':'ui-g-12 ui-md-6 ui-lg-4 control-label vt-align-right'">
                                            <p-checkbox *ngIf="isShowVertical"
                                                [formControl]="formSearch.controls.isYear" binary="true">
                                            </p-checkbox>
                                            {{'label.training-topic.training-year' | translate}}
                                        </label>
                                        <div [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-lg-11 vt-float-right vt-padding-vertical':'ui-g-12 ui-md-6 ui-lg-6'"
                                            *ngIf="(formSearch.controls.isYear.value && isShowVertical) || !isShowVertical">
                                            <select-filter [optionValue]="'value'" [optionLabel]="'value'" [property]="f['year']"
                                                           [options]="trainingYearOptions" [placeHolder]="'placeholder.choose'"
                                                           [filter]="true">
                                            </select-filter>
                                            <app-control-messages [control]="f['year']"></app-control-messages>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div *ngIf="isMobileScreen">
                                <div class="ui-g-12 vt-row">
                                    <label
                                        [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-sm-3 ui-lg-12 control-label vt-label-unset-padding-top':'ui-g-12 ui-md-6 ui-sm-3 ui-lg-4 control-label vt-align-right'">
                                        <p-checkbox *ngIf="isShowVertical" [formControl]="formSearch.controls.isTitle"
                                            binary="true"></p-checkbox>
                                        {{'label.training-topic.title' | translate}}
                                    </label>
                                    <div [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-sm-3 ui-lg-11 vt-float-right vt-padding-vertical':'ui-g-12 ui-md-6 ui-sm-9 ui-lg-6'"
                                        *ngIf="(formSearch.controls.isTitle.value && isShowVertical) || !isShowVertical">
                                        <input type="text" class="form form-control" name="title"
                                            formControlName="title">
                                    </div>
                                </div>
                                <div class="ui-g-12 vt-row">
                                    <label
                                        [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-sm-3 ui-lg-12 control-label vt-label-unset-padding-top':'ui-g-12 ui-md-6 ui-sm-3 ui-lg-4 control-label vt-align-right'">
                                        <p-checkbox *ngIf="isShowVertical"
                                            [formControl]="formSearch.controls.isThoroughOrganizationId" binary="true">
                                        </p-checkbox>
                                        {{'label.training-topic.org-tkqt' | translate}}
                                    </label>
                                    <div [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-sm-3 ui-lg-11 vt-float-right vt-padding-vertical':'ui-g-12 ui-md-6 ui-sm-9 ui-lg-6'"
                                        *ngIf="(formSearch.controls.isThoroughOrganizationId.value && isShowVertical) || !isShowVertical">
                                        <party-org-selector
                                            #partyOrgSelector
                                            [property]="formSearch.controls.thoroughLevel"
                                            operationKey="action.view"
                                            adResourceKey="CTCT_TRAINING_TOPIC"
                                            (onChange)="onChangeThoroughLevel()"
                                        >
                                        </party-org-selector>
                                    </div>
                                </div>
                                <div class="ui-g-12 vt-row">
                                    <label
                                        [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-sm-3 ui-lg-12 control-label vt-label-unset-padding-top':'ui-g-12 ui-md-6 ui-sm-3 ui-lg-4 control-label vt-align-right'">
                                        <p-checkbox *ngIf="isShowVertical" [formControl]="formSearch.controls.isIssueLevel"
                                            binary="true"></p-checkbox>
                                        {{'label.training-topic.group' | translate}}
                                    </label>
                                    <div [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-sm-3 ui-lg-11 vt-float-right vt-padding-vertical':'ui-g-12 ui-md-6 ui-sm-9 ui-lg-6'"
                                        *ngIf="(formSearch.controls.isIssueLevel.value && isShowVertical) || !isShowVertical">
                                        <p-dropdown [formControl]="formSearch.controls.issueLevel"
                                            [options]="issueLevelOptions" [placeholder]="'placeholder.all' | translate"
                                            [showClear]="true" [filter]="true"
                                            [emptyFilterMessage]="emptyFilterMessage" [resetFilterOnHide]="true">
                                        </p-dropdown>
                                    </div>
                                </div>
                                <div class="ui-g-12 vt-row">
                                    <label
                                        [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-sm-3 ui-lg-12 control-label vt-label-unset-padding-top':'ui-g-12 ui-md-6 ui-sm-3 ui-lg-4 control-label vt-align-right'">
                                        <p-checkbox *ngIf="isShowVertical"
                                            [formControl]="formSearch.controls.isObjectType" binary="true">
                                        </p-checkbox>
                                        {{'label.training-topic.training-objects' | translate}}
                                    </label>
                                    <div [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-sm-3 ui-lg-11 vt-float-right vt-padding-vertical':'ui-g-12 ui-md-6 ui-sm-9 ui-lg-6'"
                                        *ngIf="(formSearch.controls.isTypeThorough.value && isShowVertical) || !isShowVertical">
<!--                                        <p-dropdown [optionLabel]="'name'"-->
<!--                                            [formControl]="formSearch.controls.typeThorough"-->
<!--                                            [options]="objectTypeOptions"-->
<!--                                            [placeholder]="'placeholder.all' | translate" [showClear]="true"-->
<!--                                            [filter]="true" [emptyFilterMessage]="emptyFilterMessage"-->
<!--                                            [resetFilterOnHide]="true">-->
<!--                                        </p-dropdown>-->
                                        <multi-select-filter   [optionLabel]="'name'" [optionValue]="'id'" [property]="f['objectTypeTraining']"
                                                              [options]="objectTypeOptions" [showVertical] = true
                                        >
                                        </multi-select-filter>
                                        <app-control-messages [control]="f['objectTypeTraining']"></app-control-messages>
                                    </div>
                                </div>
                                <div class="ui-g-12 vt-row">
                                    <label
                                        [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-sm-3 ui-lg-12 control-label vt-label-unset-padding-top':'ui-g-12 ui-md-6 ui-sm-3 ui-lg-4 control-label vt-align-right'">
                                        <p-checkbox *ngIf="isShowVertical"
                                            [formControl]="formSearch.controls.isFromStartDate" binary="true">
                                        </p-checkbox>
                                        {{'label.training-topic.from-date' | translate}}
                                    </label>
                                    <div [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-sm-3 ui-lg-11 vt-float-right vt-padding-vertical':'ui-g-12 ui-md-6 ui-sm-9 ui-lg-6'"
                                        *ngIf="(formSearch.controls.isFromStartDate.value && isShowVertical) || !isShowVertical">
                                        <div class="ui-lg-2" style="color: rgba(78,3,0,1); font-size: 13px">Từ ngày</div> <div class="ui-lg-10"><date-picker [property]="formSearch.controls.fromStartDate"></date-picker></div>
                                    </div>
                                </div>
                                <div class="ui-g-12 vt-row">
                                    <label
                                        [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-sm-3 ui-lg-12 control-label vt-label-unset-padding-top':'ui-g-12 ui-md-6 ui-sm-3 ui-lg-4 control-label vt-align-right'">
                                        <p-checkbox *ngIf="isShowVertical"
                                            [formControl]="formSearch.controls.isToStartDate" binary="true">
                                        </p-checkbox>
                                        {{'label.training-topic.from-date' | translate}}
                                    </label>
                                    <div [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-sm-3 ui-lg-11 vt-float-right vt-padding-vertical':'ui-g-12 ui-md-6 ui-sm-9 ui-lg-6'"
                                        *ngIf="(formSearch.controls.isToStartDate.value && isShowVertical) || !isShowVertical">
                                        <div class="ui-lg-2" style="color: rgba(78,3,0,1); font-size: 13px">Đến ngày</div> <div class="ui-lg-10"><date-picker [property]="formSearch.controls.toStartDate"></date-picker></div>
                                    </div>
                                </div>
                                <div class="ui-g-12 vt-row">
                                    <label
                                        [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-sm-3 ui-lg-12 control-label vt-label-unset-padding-top':'ui-g-12 ui-md-6 ui-sm-3 ui-lg-4 control-label vt-align-right'">
                                        <p-checkbox *ngIf="isShowVertical"
                                            [formControl]="formSearch.controls.isFromEndDate" binary="true">
                                        </p-checkbox>
                                        {{'label.training-topic.to-date' | translate}}
                                    </label>
                                    <div [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-sm-3 ui-lg-11 vt-float-right vt-padding-vertical':'ui-g-12 ui-md-6 ui-sm-9 ui-lg-6'"
                                        *ngIf="(formSearch.controls.isFromEndDate.value && isShowVertical) || !isShowVertical">
                                        <div class="ui-lg-2" style="color: rgba(78,3,0,1); font-size: 13px">Từ ngày</div> <div class="ui-lg-10"><date-picker [property]="formSearch.controls.fromEndDate"></date-picker></div>
                                    </div>
                                </div>
                                <div class="ui-g-12 vt-row">
                                    <label
                                        [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-sm-3 ui-lg-12 control-label vt-label-unset-padding-top':'ui-g-12 ui-md-6 ui-sm-3 ui-lg-4 control-label vt-align-right'">
                                        <p-checkbox *ngIf="isShowVertical"
                                            [formControl]="formSearch.controls.isToEndDate" binary="true"></p-checkbox>
                                        {{'label.training-topic.to-date' | translate}}
                                    </label>
                                    <div [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-sm-3 ui-lg-11 vt-float-right vt-padding-vertical':'ui-g-12 ui-md-6 ui-sm-9 ui-lg-6'"
                                        *ngIf="(formSearch.controls.isToEndDate.value && isShowVertical) || !isShowVertical">
                                        <div class="ui-lg-2" style="color: rgba(78,3,0,1); font-size: 13px">Đến ngày</div> <div class="ui-lg-10"><date-picker [property]="formSearch.controls.toEndDate"></date-picker></div>
                                    </div>
                                </div>
                                <div class="ui-g-12 vt-row">
                                    <label
                                        [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-sm-3 ui-lg-12 control-label vt-label-unset-padding-top':'ui-g-12 ui-md-6 ui-sm-3 ui-lg-4 control-label vt-align-right'">
                                        <p-checkbox *ngIf="isShowVertical" [formControl]="formSearch.controls.isStatus"
                                            binary="true"></p-checkbox>
                                        {{'label.training-topic.status' | translate}}
                                    </label>
                                    <div [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-sm-3 ui-lg-11 vt-float-right vt-padding-vertical':'ui-g-12 ui-md-6 ui-sm-9 ui-lg-6'"
                                        *ngIf="(formSearch.controls.isStatus.value && isShowVertical) || !isShowVertical">
                                        <multi-select-filter  [optionLabel]="'name'" [optionValue]="'id'" [property]="f['status']"
                                                              [options]="statusOptions" [showVertical] = true
                                        >
                                        </multi-select-filter>
                                        <app-control-messages [control]="f['status']"></app-control-messages>
                                    </div>
                                </div>
                                <div class="ui-g-12 vt-row">
                                    <label
                                        [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-sm-3 ui-lg-12 control-label vt-label-unset-padding-top':'ui-g-12 ui-md-6 ui-sm-3 ui-lg-4 control-label vt-align-right'">
                                        <p-checkbox *ngIf="isShowVertical"
                                            [formControl]="formSearch.controls.isParentId" binary="true"></p-checkbox>
                                        {{'label.training-topic.parent-training-topic' | translate}}
                                    </label>
                                    <div [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-sm-3 ui-lg-11 vt-float-right vt-padding-vertical':'ui-g-12 ui-md-6 ui-sm-9 ui-lg-6'"
                                        *ngIf="(formSearch.controls.isParentId.value && isShowVertical) || !isShowVertical">
                                        <parent-training-topic-picker
                                                [property]="f['parentId']"
                                                systemCode="political"
                                                operationKey="action.view"
                                                adResourceKey="CTCT_TRAINING_TOPIC"
                                                objectBO="TrainingTopicBO"
                                                codeField="thoroughLevel"
                                                nameField="title"
                                                selectField="trainingTopicId"
                                                [filterCondition]="filterCondition"
                                        >
                                        </parent-training-topic-picker>
                                    </div>
                                </div>
                                <div class="ui-g-12 vt-row">
                                    <label
                                        [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-sm-3 ui-lg-12 control-label vt-label-unset-padding-top':'ui-g-12 ui-md-6 ui-sm-3 ui-lg-4 control-label vt-align-right'">
                                        <p-checkbox *ngIf="isShowVertical"
                                            [formControl]="formSearch.controls.isIssueLevel" binary="true"></p-checkbox>
                                        {{'label.training-topic.training-year' | translate}}
                                    </label>
                                    <div [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-sm-3 ui-lg-11 vt-float-right vt-padding-vertical':'ui-g-12 ui-md-6 ui-sm-9 ui-lg-6'"
                                        *ngIf="(formSearch.controls.isYear.value && isShowVertical) || !isShowVertical">
                                        <select-filter [optionValue]="'value'" [optionLabel]="'value'" [property]="f['year']"
                                                       [options]="trainingYearOptions" [placeHolder]="'placeholder.choose'"
                                                       [filter]="true">
                                        </select-filter>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div *ngIf="isBasicSearch" class="panel-footer vt-area-button">
                        <button type="submit" class="btn btn-sm vt-btn btn-submit" (click)="processSearch()"
                            [innerHTML]="'common.button.icon.search' | translate"></button>
                        <button *ngIf="isShowVertical" type="submit" class="btn btn-sm vt-btn "
                            (click)="showFormSearch(false)" [innerHTML]="'common.button.icon.out' | translate"></button>
                    </div>
                </form>
            </div>

        </div>
    </div>
    <div id="listArea" [ngClass]="isShowVertical?'display-list-vertical':''"
        [ngStyle]="{'width': isShowVertical && !isShowHideVertical ? '100%' : '','height': isShowVertical && !isShowHideVertical ? '85vh' : '85vh', 'position':'relative', 'z-index':'0'}">
        <div [ngClass]="isShowVertical?'panel panel-default display-max-vertical-height':'panel panel-default'">
            <table-view (lazyLoad)="search($event)" [optionTemplate]="optionTemplate"
                [title]="'label.training-topic.listData'" [columnsConfig]="tableColumnsConfig" [resultList]="resultList"
                [btnHeaderTemplate]="btnHeaderTemplate" [isShowVertical]="isShowVertical"
                [isShowHideVertical]="isShowHideVertical">
                <ng-template #btnHeaderTemplate>
                    <button *ngIf="permissionInsert" type="submit" class="btn btn-sm vt-btn btn-submit" (click)="navigateToCreatePage()"
                        [innerHTML]="'common.button.icon.addNew' | translate"></button>
                </ng-template>
                <ng-template #optionTemplate let-rowData let-rowIndex="rowIndex">
                    <td class="vt-align-center" style="overflow: inherit !important;">
                        <div ngbDropdown class="d-inline-block">
                            <div ngbDropdownToggle class="vt-action-hover">
                                <img class="menu-icon" src="./../../../assets/images/home/Mask_Group_24366.png">
                            </div>
                            <div ngbDropdownMenu class="vt-border-radius">
                                <!-- Sửa -->
                                <button *ngIf=" permissionUpdate && (rowData.status == 0 || rowData.status == 1)" class="dropdown-item" (click)="navigateToCreatePage(rowData)"
                                    [innerHTML]="'common.button.table.acteditdropdown' | translate">
                                </button>
                                <!-- Xóa -->
                                <button *ngIf="rowData.status == 0 " class="dropdown-item" (click)="deleteTrainingTopic(rowData)"
                                    [innerHTML]="'common.button.icon.delete' | translate">
                                </button>
                                <!-- Xem chi tiết -->
                                <button class="dropdown-item" (click)="navigateToViewPage(rowData)"
                                    [innerHTML]="'common.button.table.viewdropdown' | translate">
                                </button>
                                <!-- Clone -->
                                <button class="dropdown-item" (click)="clonePopup(rowData)"
                                    [innerHTML]="'button.table.thorough-content.clone' | translate">
                                </button>
<!--                                 Triển khai nhanh cho đơn vị-->
                                <button *ngIf="permissionInsert && rowData.isParent == 1 && rowData.status == 1 && rowData.requiredThorough == 1" class="dropdown-item" (click)="quickDeploy(rowData)"
                                    [innerHTML]="'button.table.thorough-content.quick-deploy' | translate">
                                </button>
                                <!-- Khai báo lớp học -->
                                <button *ngIf="permissionCreateClass && rowData.requiredThorough ==0" class="dropdown-item" (click)="createClass(rowData)"
                                        [innerHTML]="'button.table.training-topic.create-class' | translate">
                                </button>
                                <!-- Xem danh sách lớp học -->
                                <button *ngIf="permissionView" class="dropdown-item" (click)="viewClass(rowData)"
                                        [innerHTML]="'button.table.training-topic.view-class' | translate">
                                </button>
                                <!-- Import kết quả thi -->
                                <button *ngIf="permissionInsert && rowData.status == 1 && rowData.requiredThorough == 0" class="dropdown-item" (click)="importResultClass(rowData)"
                                        [innerHTML]="'button.table.training-topic.import-result' | translate">
                                </button>
                            </div>
                        </div>
                    </td>
                    <td class="vt-align-center">{{rowIndex + 1}}</td>
                    <td class="vt-align-left">{{rowData.title}}</td>
                    <td class="vt-align-left">{{rowData.thoroughLevelName}}</td>
                    <td class="vt-align-left">{{rowData.objectTypeName}}</td>
                    <td class="vt-align-left">{{rowData.issueLevelName}}</td>
                    <td class="vt-align-left">{{rowData.startDate | date: 'dd/MM/yyyy'}}</td>
                    <td class="vt-align-left">{{rowData.endDate | date: 'dd/MM/yyyy'}}</td>
                    <td class="vt-align-left">{{rowData.finishNumberDate | date: 'dd/MM/yyyy'}}</td>
                    <td class="vt-align-left">{{rowData.approveEmployeeName}}</td>
                    <td class="vt-align-left">{{rowData.statusName}}</td>
                    <td class="vt-align-center">{{rowData.kpiNumber}}</td>
                    <td class="vt-align-center">{{rowData.kpiAverage}}</td>
                    <td class="vt-align-center">{{rowData.kpiGood}}</td>
                    <td class="vt-align-center">{{rowData.kpiExcellent}}</td>
                </ng-template>
            </table-view>

        </div>
    </div>
</div>
