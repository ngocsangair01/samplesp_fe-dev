<div class="content vt-nopadding">
  <div class="no-padding-left">
    <form [formGroup]="formGroup">
      <div class="page">
        <div class="detail-area">
          <div class="panel panel-default">
            <div class="panel-heading">
              <strong>{{'common.button.signInfor' | translate}}</strong>
              <div class="vt-absolute vt-shotcut-button-in-heading">
                <button (click)="activeModal.close()" title="{{'common.button.close' | translate}}"
                  class="btn btn-span btn-sm"><img class="info-icon" src="./../../../../../../assets/images/home/Mask_Group_19561.png"></button>
              </div>
            </div>
            <div class="panel-body padding-xl ui-g">
              <div class="ui-g-12 vt-row">
                <label class="ui-g-12 ui-md-2 ui-lg-2 control-label vt-align-right required">
                  {{'common.label.userVoffice' | translate}}
                </label>
                <div class="ui-g-12 ui-md-9 ui-lg-9">
                  <input type="text" formControlName="vofficeUser" name="vofficeUser" class="form-control" maxlength="100">
                  <app-control-messages [control]="f['vofficeUser']"></app-control-messages>
                </div>
                <label class="ui-g-12 ui-md-2 ui-lg-2 control-label vt-align-right required">
                  {{'common.label.passwordVoffice' | translate}}
                </label>
                <div class="ui-g-12 ui-md-9 ui-lg-9">
                  <input type="password" formControlName="vofficePassword" name="vofficePassword" class="form-control"
                    maxlength="100">
                  <app-control-messages [control]="f['vofficePassword']"></app-control-messages>
                </div>
              </div>
            </div>
          </div>
          <div class="panel panel-default">
            <div class="panel-heading">
              <strong class="text-u-c"><i class="fa fa-th"></i>&nbsp;{{'managerSign.listSignerTitle' | translate}}</strong>
            </div>
            <div class="panel-body panel-table">
              <p-table [scrollable]="false" [value]="formSigner.controls"
              tableStyleClass="table controls-table table-wrapper b-t b-b">
              <ng-template pTemplate="colgroup" let-columns >
                <colgroup>
                  <col>
                  <col>
                  <col>
                  <col>
                  <col>
                </colgroup>
              </ng-template>
              <ng-template pTemplate="header">
                <tr>
                  <th translate>common.table.index</th>
                  <th translate>assessmentPeriod.assessmentLevelList.name</th>
                  <th translate><span class="required">managerSign.listSigner.employeeId</span></th>
                  <th translate><span class="required">managerSign.listSigner.userVofficeId</span></th>
                  <th translate>managerSign.listSigner.signImageIndex</th>
                </tr>
              </ng-template>
              <ng-template pTemplate="body" let-item let-index="rowIndex">
                <tr [formGroup]="item">
                  <td class="vt-align-center">
                    {{index+1}}
                  </td>
                  <td class="vt-align-center">
                    <input type="text" formControlName="assessmentLevelName" name="assessmentLevelName" class="form-control"
                      maxlength="255" [attr.disabled]="true" >
                    <app-control-messages [control]="item.controls.assessmentLevelName"></app-control-messages>
                  </td>
                  <td class="vt-align-center">
                    <input type="text" formControlName="employeeFullName" name="employeeFullName" class="form-control"
                      maxlength="255" [attr.disabled]="true" >
                    <app-control-messages [control]="item.controls.employeeFullName"></app-control-messages>
                  </td>
                  <td>
                    <select-filter
                      [property]="item.controls.userVofficeId"
                      [options]="item.controls.vof2EntityUser.value"
                      optionLabel="label"
                      optionValue="value"
                      [placeHolder]="'common.label.cboMustSelect'"
                    >
                    </select-filter>
                    <app-control-messages [control]="item.controls.userVofficeId"></app-control-messages>
                  </td>
                  <td class="vt-align-center">
                    <span *ngIf="item.controls.signatureImages">
                        <label *ngFor="let signatureImage of item.controls.signatureImages.value; index as i" class="i-checks">
                          <input type="radio" class="form-check-input control-label" id="{{'signImageId_' + index}}" [value]="signatureImage.staffImageSignId" formControlName="signImageId" [checked]="i == 0" />
                          <i></i>
                          <img [src]="signatureImage.attachBytes" width="80" height="70">
                        </label>
                    </span>
                    <span *ngIf="!item.controls.signatureImages">
                      {{'assessmentResult.notFoundSignatureImage' | translate}}
                    </span>
                  </td>
                </tr>
              </ng-template>
              <ng-template pTemplate="emptymessage">
                <tr class="emptymessage">
                  <td style="color: rgba(38,1,0,1);" [attr.colspan]="5" [innerHTML]="'app.noRecords.assessment.statistic' | translate">
                  </td>
                </tr>
              </ng-template>
              </p-table>
            </div>
            <div class="panel-footer vt-area-button">
              <button  type="submit" (click)="onSigned();" class="btn btn-sm vt-btn btn-submit">
                <span class="glyphicons glyphicons-direction"></span>
                &nbsp;<span [innerHTML]="'common.button.sign' | translate"></span>
              </button>
              <button type="button" (click)="activeModal.close();" class="btn btn-sm vt-btn"
                [innerHTML]="'common.button.out' | translate"></button>
            </div>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>
