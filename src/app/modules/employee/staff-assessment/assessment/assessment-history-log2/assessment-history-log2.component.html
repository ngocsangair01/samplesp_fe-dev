<div class="content vt-nopadding">
  <div class="no-padding-left">
    <div class="panel panel-default" style="background-color: #fff !important;">

      <div class="panel-heading">
        <strong>
          {{'assessment.historis.title2' | translate}}
        </strong>
        <div class="vt-absolute vt-shotcut-button-in-heading">
          <button (click)="activeModal.close()" title="{{'common.button.close' | translate}}"
            class="btn btn-span btn-sm"><img class="info-icon" src="./../../../../../../assets/images/home/Mask_Group_19561.png"></button>
        </div>
      </div>
      <form>
        <div *ngIf="!isMobileScreen" class="panel-body padding-xl ui-g">
            <div class="ui-g-12 vt-row">
                <!--   Ky de xuat         -->
                <label class="ui-g-12 ui-md-6 ui-lg-2 control-label vt-align-right">
                    {{'assessmentPeriod.name' | translate}}
                </label>
                <div class="ui-g-12 ui-md-6 ui-lg-3">
                  <select-filter
                      [property]="f['assessmentPeriodId']"
                      [options]="assessmentList"
                      optionLabel="assessmentPeriodName"
                      optionValue="assessmentPeriodId"
                      [placeHolder]="'placeholder.choose'"
                      [disabled]="true"
                  >
                  </select-filter>
                </div>
                <!--  Can bo -->
                <label class="ui-g-12 ui-md-6 ui-lg-2 control-label vt-align-right">
                    {{'assessment.employee' | translate}}
                </label>
                <div class="ui-g-12 ui-md-6 ui-lg-3">
                  <data-picker
                    [property]="f['employeeId']"
                    systemCode="assessment"
                    operationKey="action.view"
                    adResourceKey="resource.assessmentPeriod"
                    objectBO="EmployeeBO"
                    codeField="employeeCode"
                    nameField="fullName"
                    emailField="email"
                    mobileNumberField="mobileNumber"
                    selectField="employeeId"
                    filterCondition=""
                    [disabled]="true">
                  </data-picker>
                </div>
              </div>
        </div>
        <div *ngIf="isMobileScreen" class="panel-body padding-xl ui-g">
          <div class="ui-g-12 vt-row">
              <!--   Ky de xuat         -->
              <label class="ui-g-12 ui-md-6 ui-sm-3 ui-lg-2 control-label vt-align-right">
                  {{'assessmentPeriod.name' | translate}}
              </label>
              <div class="ui-g-12 ui-md-6 ui-sm-9 ui-lg-3">
                <select-filter
                    [property]="f['assessmentPeriodId']"
                    [options]="assessmentList"
                    optionLabel="assessmentPeriodName"
                    optionValue="assessmentPeriodId"
                    [placeHolder]="'placeholder.choose'"
                    [disabled]="true"
                >
                </select-filter>
              </div>
            </div>
            <div class="ui-g-12 vt-row">
              <!--  Can bo -->
              <label class="ui-g-12 ui-md-6 ui-sm-3 ui-lg-2 control-label vt-align-right">
                  {{'assessment.employee' | translate}}
              </label>
              <div class="ui-g-12 ui-md-6 ui-sm-9 ui-lg-3">
                <data-picker
                  [property]="f['employeeId']"
                  systemCode="assessment"
                  operationKey="action.view"
                  adResourceKey="resource.assessmentPeriod"
                  objectBO="EmployeeBO"
                  codeField="employeeCode"
                  nameField="fullName"
                  emailField="email"
                  mobileNumberField="mobileNumber"
                  selectField="employeeId"
                  filterCondition=""
                  [disabled]="true">
                </data-picker>
              </div>
            </div>
      </div>
    </form>
      
      <div class="panel-heading vt-relative">
        <strong>
            {{'issue.resolutions.title.assesmentHistory' | translate}}
        </strong>
      </div>
        <!-- </header> -->
      <div class="panel-body panel-table">
        <p-table
        #pTable
        [value]="resultList.data"
        [paginator]="true"
        (onLazyLoad)="processSearchHis($event)"
        [lazy]="true"
        [rows]="changeRow"
        [totalRecords]="resultList.recordsTotal"
        [lazyLoadOnInit]="true"
        tableStyleClass="table table-wrapper table-hover table-striped b-t b-b"
        [resizableColumns]="true"
        styleClass="controlOverflow">
          <ng-template pTemplate="colgroup" let-columns>
            <colgroup>
              <col style="width: 50px;">
              <col style="width: 200px;">
              <col style="width: 300px;">
              <col style="width: 700px;">
              <col>
            </colgroup>
          </ng-template>
          <ng-template pTemplate="header">
            <tr>
              <th translate pResizableColumn>common.table.index</th>
              <th [pSortableColumn]="'createdAt'" pResizableColumn>
                {{'evaluatestaffprocess.table.time' | translate}}
                <p-sortIcon [field]="'createdAt'"></p-sortIcon>
              </th>
              <th [pSortableColumn]="'fullName'" pResizableColumn>
                {{'label.exe.req.implementer' | translate}}
                <p-sortIcon [field]="'fullName'"></p-sortIcon>
              </th>
              <th [pSortableColumn]="'content'" pResizableColumn>
                {{'qualityAnalysisPartyMember.import.content' | translate}}
                <p-sortIcon [field]="'content'"></p-sortIcon>
              </th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-item let-index="rowIndex+1">
            <tr>
              <td class="vt-align-center">{{index}}</td>
              <td class="vt-align-center">{{item.createdAt|displayDateTime}}</td>
              <td class="vt-align-center">
                <p>{{item.fullName}}</p>
                <p>{{item.employeeCode}}</p>
              </td>
              <td class="vt-align-left">{{item.content}}</td>
            </tr>
          </ng-template>
          <ng-template pTemplate="emptymessage">
            <tr class="emptymessage">
              <td [attr.colspan]="14" [innerHTML]="'app.noRecords' | translate">
              </td>
            </tr>
          </ng-template>
          <ng-template pTemplate="paginatorleft">
            <table-footer (changeRow)="onTablePageChange($event)" [resultList]="resultList"></table-footer>
          </ng-template>
        </p-table>
      </div>
      <div class="panel-footer text-center">
        <button type="button" (click)="activeModal.close()" class="btn btn-sm vt-btn" [innerHTML]="'common.button.out' | translate"></button>
      </div>
    </div>
  </div>
</div>
