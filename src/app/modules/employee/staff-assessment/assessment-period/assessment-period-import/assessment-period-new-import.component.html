<div class="content vt-nopadding">
    <div class="no-padding-left">
        <div class="panel-default">
            <div class="panel-heading vt-relative">
                <strong>
                    {{'assessmentPeriod.import' | translate}}
                </strong>
                <div class="vt-absolute vt-shotcut-button-in-heading">
                    <button (click)="activeModal.close()" title="{{'common.button.close' | translate}}"
                      class="btn btn-span btn-sm"><img class="info-icon" src="./../../../../../../assets/images/home/Mask_Group_19561.png"></button>
                </div>
            </div>
            <form id="formImport" [formGroup]="formImport">
                <div *ngIf="!isMobileScreen" class="panel-body padding-xl ui-g">
                    <div class="ui-g-12 vt-row">
                        <label class="ui-g-12 ui-md-6 ui-lg-2 control-label vt-align-right required">
                            {{'assessmentPeriod.name' | translate}}
                        </label>
                        <!-- <div class="ui-g-12 ui-md-6 ui-lg-3">
                            <input [autoFocus]="true" disabled type="text" class="form form-control" name="assessmentPeriodName"
                                formControlName="assessmentPeriodName" maxlength="500">
                            <app-control-messages [control]="f['assessmentPeriodName']"></app-control-messages>
                        </div> -->
                        <div class="ui-g-12 ui-md-6 ui-lg-3">
                            <select-filter
                                    [property]="f['assessmentPeriodId']"
                                    [options]="assessmentList"
                                    optionLabel="assessmentPeriodName"
                                    optionValue="assessmentPeriodId"
                                    [placeHolder]="'placeholder.choose'"
                            >
                            </select-filter>
                            <app-control-messages [control]="f['assessmentPeriodId']"></app-control-messages>
                        </div>
                        <label class="ui-g-12 ui-md-6 ui-lg-3 control-label vt-align-right required">
                            {{'assessmentPartyOrganization.titleField.partyOrg' | translate}}
                        </label>
                        <div class="ui-g-12 ui-md-6 ui-lg-3">
                            <party-org-selector
                                    [property]="f['partyOrganizationId']"
                                    operationKey="action.view"
                                    adResourceKey="resource.assessmentPeriod"
                                    [defaultValue]="false"
                                    [isRequiredField]="false"
                            >
                            </party-org-selector>
                            <app-control-messages [control]="f['partyOrganizationId']"></app-control-messages>
                        </div>
                    </div>
                    <div class="ui-g-12 vt-row">
                        <label class="ui-g-12 ui-md-6 ui-lg-2 control-label vt-align-right required">
                            {{'controls.choseFile' | translate}}
                        </label>
                        <div class="ui-g-12 ui-md-6 ui-lg-3">
                            <file-chooser [property]="f['fileImport']" validMaxSize="50" validType="xls">
                            </file-chooser>
                            <app-control-messages [control]="f['fileImport']"></app-control-messages>
                            <br>
                            <a class="text-link" (click)="processDownloadTemplate();">
                                <span translate><i class="fa fa-download"></i> app.common.downloadTemplate</span>
                            </a>
                        </div>
                    </div>

                </div>
                <div *ngIf="isMobileScreen" class="panel-body padding-xl ui-g">
                    <div class="ui-g-12 vt-row">
                        <label class="ui-g-12 ui-md-6 ui-sm-3 ui-lg-2 control-label vt-align-right required">
                            {{'assessmentPeriod.name' | translate}}
                        </label>
                        <!-- <div class="ui-g-12 ui-md-6 ui-sm-3 ui-lg-3">
                            <input [autoFocus]="true" disabled type="text" class="form form-control" name="assessmentPeriodName"
                                formControlName="assessmentPeriodName" maxlength="500">
                            <app-control-messages [control]="f['assessmentPeriodName']"></app-control-messages>
                        </div> -->
                        <div class="ui-g-12 ui-md-6 ui-sm-9 ui-lg-3">
                            <select-filter
                                    [property]="f['assessmentPeriodId']"
                                    [options]="assessmentList"
                                    optionLabel="assessmentPeriodName"
                                    optionValue="assessmentPeriodId"
                                    [placeHolder]="'placeholder.choose'"
                            >
                            </select-filter>
                            <app-control-messages [control]="f['assessmentPeriodId']"></app-control-messages>
                        </div>
                    </div>
                    <div class="ui-g-12 vt-row">
                        <label class="ui-g-12 ui-md-6 ui-sm-3 ui-lg-3 control-label vt-align-right required">
                            {{'assessmentPartyOrganization.titleField.partyOrg' | translate}}
                        </label>
                        <div class="ui-g-12 ui-md-6 ui-sm-9 ui-lg-3">
                            <party-org-selector
                                    [property]="f['partyOrganizationId']"
                                    operationKey="action.view"
                                    adResourceKey="resource.assessmentPeriod"
                                    [defaultValue]="false"
                                    [isRequiredField]="false"
                            >
                            </party-org-selector>
                            <app-control-messages [control]="f['partyOrganizationId']"></app-control-messages>
                        </div>
                    </div>
                    <div class="ui-g-12 vt-row">
                        <label class="ui-g-12 ui-md-6 ui-sm-3 ui-lg-2 control-label vt-align-right required">
                            {{'controls.choseFile' | translate}}
                        </label>
                        <div class="ui-g-12 ui-md-6 ui-sm-9 ui-lg-3">
                            <file-chooser [property]="f['fileImport']" validMaxSize="50" validType="xls">
                            </file-chooser>
                            <app-control-messages [control]="f['fileImport']"></app-control-messages>
                            <br>
                            <a class="text-link" (click)="processDownloadTemplate();">
                                <span translate><i class="fa fa-download"></i> app.common.downloadTemplate</span>
                            </a>
                        </div>
                    </div>

                </div>
                <div class="panel-footer vt-area-button">
                    <button type="submit" (click)="processImport()" class="btn btn-sm vt-btn btn-submit" [innerHTML]="'common.button.icon.save' | translate"></button>
                    <button type="button" (click)="cancel()" class="btn btn-sm vt-btn" [innerHTML]="'common.button.out' | translate"></button>
                </div>
            </form>
        </div>
        <div *ngIf="dataError">
            <import-error [data]="dataError"></import-error>
        </div>
    </div>
</div>