<div [ngClass]="isShowVertical?'show-title':''">
    <div id="searchPage" [ngStyle]="{'width': isShowVertical && !isShowHideVertical ? '0%' : '', 'min-width': isShowVertical && !isShowHideVertical ? '0%' : ''}"
         [ngClass]="isShowVertical?'display-search-vertical':'display-search-not-vertical'">
        <div id="searchArea" [ngClass]="isShowVertical?'display-max-vertical-height':''">
            <div [ngClass]="isShowVertical?'panel panel-default unset-margin-bottom-vertical display-max-vertical':'panel panel-default'">
                <form id="formSearch" [formGroup]="formEmployee">
                    <button type="submit" class="btn btn-sm vt-btn btn-submit" (click)="processSearchEmployee()" style="display: none"
                            [innerHTML]="'common.button.icon.search' | translate"></button>
                    <div style="overflow: unset"
                         [ngClass]="isBasicSearch?'panel-heading':'panel-heading vt-border-hide-search'">
                        <a *ngIf="!isShowVertical"
                           style="color: #202123; font-weight: 600; font-size: 16px; height: 40px"
                           (click)="pressLabelSearchBasic()">
                            <span *ngIf="isInsert" translate> label.assessmentPeriod.insert</span>
                            <span *ngIf="isEdit" translate> label.assessmentPeriod.update</span>
                            <span *ngIf="isView" translate> label.assessmentPeriod.view</span>
                            <div *ngIf="isBasicSearch && !isShowVertical"
                                 style="height: 100%; padding: 9px 20px 9px 15px;">
                                <i class="fa fa-caret-down"></i>
                                {{'common.label.hideBasicSearch' | translate}}
                            </div>
                            <div *ngIf="!isBasicSearch && !isShowVertical"
                                 style="height: 100%; padding: 9px 20px 9px 15px;">
                                <i class="fa fa-caret-right"></i>
                                {{'common.label.showBasicSearch' | translate}}
                            </div>
                        </a>
                        <span *ngIf="isShowVertical"
                              style="color: #202123; font-weight: 600; font-size: 16px; height: 40px; padding-left: 10px; padding-top: 10px;">
                            <img alt="back" class="img-fluid icon-show-hide-search" src="./../../../../../../assets/images/home/Mask_Group_24370.png" (click)="closeBasicSearch()">
                            {{'common.label.showBasicSearch' | translate}}
                        </span>
                        <div *ngIf="isBasicSearch && !isMobileScreen" class="show-btn-right-header">
                            <div ngbDropdown class="d-inline-block">
                                <button class="btn btn-sm vt-btn"
                                        ngbDropdownToggle>
                                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                                         width="14" height="14" viewBox="0 0 24 24">
                                        <defs>
                                            <clipPath id="clip-path">
                                                <rect id="Rectangle_11011" data-name="Rectangle 11011" width="24"
                                                      height="24" transform="translate(1621 24)" fill="#000"
                                                      stroke="#fff" stroke-width="1"/>
                                            </clipPath>
                                        </defs>
                                        <g id="Mask_Group_19451" data-name="Mask Group 19451"
                                           transform="translate(-1621 -24)" clip-path="url(#clip-path)">
                                            <g id="setting-2" transform="translate(1619.606 22.614)">
                                                <path id="Path_63716" data-name="Path 63716"
                                                      d="M13.383,17.565a4.182,4.182,0,1,1,4.182-4.182A4.184,4.184,0,0,1,13.383,17.565Zm0-6.691a2.509,2.509,0,1,0,2.509,2.509A2.513,2.513,0,0,0,13.383,10.874Z"
                                                      fill="#000"/>
                                                <path id="Path_63717" data-name="Path 63717"
                                                      d="M16.963,24.747a3.033,3.033,0,0,1-.7-.089,2.739,2.739,0,0,1-1.639-1.238l-.134-.223c-.658-1.138-1.561-1.138-2.219,0l-.123.212a2.674,2.674,0,0,1-1.639,1.249,2.611,2.611,0,0,1-2.041-.279l-1.918-1.1a2.955,2.955,0,0,1-1.093-4.037,1.492,1.492,0,0,0,.223-1.405,1.486,1.486,0,0,0-1.327-.513,2.96,2.96,0,0,1-2.955-2.955V12.4A2.96,2.96,0,0,1,4.349,9.446a1.486,1.486,0,0,0,1.327-.513,1.462,1.462,0,0,0-.223-1.405,2.968,2.968,0,0,1-.29-2.242,2.877,2.877,0,0,1,1.383-1.8l1.929-1.1a2.7,2.7,0,0,1,3.68.97l.134.223c.658,1.138,1.561,1.138,2.219,0l.123-.212a2.692,2.692,0,0,1,3.691-.97l1.918,1.1a2.955,2.955,0,0,1,1.093,4.037,1.492,1.492,0,0,0-.223,1.405,1.486,1.486,0,0,0,1.327.513,2.96,2.96,0,0,1,2.955,2.955v1.963a2.96,2.96,0,0,1-2.955,2.955,1.486,1.486,0,0,0-1.327.513,1.462,1.462,0,0,0,.223,1.405,2.918,2.918,0,0,1,.29,2.242,2.877,2.877,0,0,1-1.383,1.8l-1.929,1.1a2.775,2.775,0,0,1-1.349.357Zm-3.58-4.126a3.039,3.039,0,0,1,2.554,1.729l.123.212a1.022,1.022,0,0,0,1.383.368l1.929-1.115a1.29,1.29,0,0,0,.48-1.751,3.062,3.062,0,0,1-.223-3.078,3.047,3.047,0,0,1,2.777-1.349,1.276,1.276,0,0,0,1.283-1.283V12.39a1.283,1.283,0,0,0-1.283-1.283,3.047,3.047,0,0,1-2.777-1.349,3.062,3.062,0,0,1,.223-3.078,1.275,1.275,0,0,0,.123-.97,1.3,1.3,0,0,0-.591-.781l-1.929-1.1a1.026,1.026,0,0,0-1.405.368l-.123.212a3.039,3.039,0,0,1-2.554,1.729,3.039,3.039,0,0,1-2.554-1.729L10.7,4.182a1.024,1.024,0,0,0-1.383-.357L7.383,4.941A1.29,1.29,0,0,0,6.9,6.691,3.062,3.062,0,0,1,7.126,9.77a3.047,3.047,0,0,1-2.777,1.349A1.276,1.276,0,0,0,3.067,12.4v1.963a1.283,1.283,0,0,0,1.283,1.283A3.047,3.047,0,0,1,7.126,17,3.062,3.062,0,0,1,6.9,20.074a1.275,1.275,0,0,0-.123.97,1.3,1.3,0,0,0,.591.781l1.929,1.1a.986.986,0,0,0,.77.112,1.058,1.058,0,0,0,.636-.48l.123-.212a3.061,3.061,0,0,1,2.554-1.729Z"
                                                      fill="#000"/>
                                            </g>
                                        </g>
                                    </svg>
                                </button>
                                <div ngbDropdownMenu class="vt-dropdown-menu">
                                    <button class="dropdown-item" (click)="showFormSearch(false)"
                                            [innerHTML]="'common.button.header.actShowFollowRow' | translate"></button>
                                    <button class="dropdown-item" (click)="showFormSearch(true)"
                                            [innerHTML]="'common.button.header.actShowFollowColumn' | translate"></button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div *ngIf="isBasicSearch" class="vt-border-side-bottom">
                        <div [ngClass]="{'panel-body padding-xl padding-body-search vt-display-block': isShowVertical}">
                            <a *ngIf="isShowVertical"
                               style="color: #202123; font-weight: 600; font-size: 14px; height: 40px"
                               (click)="pressLabelSearchBasicDiv()">
                                <div *ngIf="isBasicDivSearch && isShowVertical"
                                     style="padding: 9px 20px 9px 15px;">
                                    <i class="fa fa-caret-down"></i>
                                    {{'common.label.basicSearch' | translate}}
                                </div>
                                <div *ngIf="!isBasicDivSearch && isShowVertical"
                                     style="padding: 9px 20px 9px 15px;">
                                    <i class="fa fa-caret-right"></i>
                                    {{'common.label.basicSearch' | translate}}
                                </div>
                            </a>
                            <div *ngIf="!isMobileScreen">
                                <div *ngIf="(isBasicDivSearch && isShowVertical) || !isShowVertical"
                                     [ngClass]="isShowVertical?'':'ui-g vt-row'">
                                    <div [ngClass]="isShowVertical?'ui-g-12 vt-padding-vertical':'ui-md-6 rows'">
                                        <!--                            <div class="ui-g vt-row">&lt;!&ndash; Row 1 &ndash;&gt;-->
                                        <label [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-lg-12 control-label vt-label-unset-padding-top':'ui-g-12 ui-md-6 ui-lg-4 control-label vt-align-right'">
                                            <p-checkbox *ngIf="isShowVertical"
                                                        [formControl]="f['isAssessmentPeriodId']"
                                                        binary="true"
                                            ></p-checkbox>
                                            {{'assessmentPeriod.name' | translate}}
                                        </label>
                                        <div [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-lg-11 vt-float-right vt-padding-vertical':'ui-g-12 ui-md-6 ui-lg-6'"
                                             *ngIf="(f['isAssessmentPeriodId'].value && isShowVertical) || !isShowVertical">
                                            <select-filter
                                                    [property]="f['assessmentPeriodId']"
                                                    [options]="assessmentList"
                                                    optionLabel="assessmentPeriodName"
                                                    optionValue="assessmentPeriodId"
                                                    [placeHolder]="'placeholder.choose'"
                                                    (onChange)="onChangeAssessmentPeriod($event)"
                                            >
                                            </select-filter>
                                            <app-control-messages [control]="f['assessmentPeriodId']"></app-control-messages>
                                        </div>
                                    </div>
                                    <div [ngClass]="isShowVertical?'ui-g-12 vt-padding-vertical':'ui-md-6 rows'">
                                        <label [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-lg-12 control-label vt-label-unset-padding-top':'ui-g-12 ui-md-6 ui-lg-4 control-label vt-align-right'">
                                            <p-checkbox *ngIf="isShowVertical"
                                                        [formControl]="f['isEmployeeId']"
                                                        binary="true"
                                            ></p-checkbox>
                                            {{'assessment.employeeCode' | translate}}
                                        </label>
                                        <div [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-lg-11 vt-float-right vt-padding-vertical':'ui-g-12 ui-md-6 ui-lg-6'"
                                             *ngIf="(f['isEmployeeId'].value && isShowVertical) || !isShowVertical">
                                            <data-picker
                                                #data
                                                [property]="f['employeeId']"
                                                systemCode="assessment"
                                                operationKey="action.view"
                                                adResourceKey="resource.assessmentPeriod"
                                                objectBO="EmployeeBO"
                                                codeField="employeeCode"
                                                nameField="fullName"
                                                emailField="email"
                                                mobileNumberField="mobileNumber"
                                                selectField="employeeId"
                                                isDisplayCode="true"
                                                filterCondition=""
                                                [disabled]=""
                                                (onChange)="onChangeEmployee($event)">
                                            </data-picker>
                                            <app-control-messages [control]="f['employeeId']"></app-control-messages>
                                        </div>
                                    </div>
                                </div>
                                <div *ngIf="(isBasicDivSearch && isShowVertical) || !isShowVertical"
                                     [ngClass]="isShowVertical?'':'ui-g vt-row'">
                                    <div [ngClass]="isShowVertical?'ui-g-12 vt-padding-vertical':'ui-md-6 rows'">
                                        <label [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-lg-12 control-label vt-label-unset-padding-top':'ui-g-12 ui-md-6 ui-lg-4 control-label vt-align-right'">
                                            <p-checkbox *ngIf="isShowVertical"
                                                        [formControl]="f['isPartyOrganizationId']"
                                                        binary="true"
                                            ></p-checkbox>
                                            {{'assessment.partyOrg' | translate}}
                                        </label>
                                        <div [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-lg-11 vt-float-right vt-padding-vertical':'ui-g-12 ui-md-6 ui-lg-6'"
                                             *ngIf="(f['isPartyOrganizationId'].value && isShowVertical) || !isShowVertical">
                                            <party-org-selector
                                                    [property]="f['partyOrganizationId']"
                                                    operationKey="action.view"
                                                    adResourceKey="resource.assessmentPeriod"
                                                    [defaultValue]="true"
                                                    [isRequiredField]="false"
                                            >
                                            </party-org-selector>
                                            <app-control-messages [control]="f['partyOrganizationId']"></app-control-messages>
                                        </div>
                                    </div>
                                    <div [ngClass]="isShowVertical?'ui-g-12 vt-padding-vertical':'ui-md-6 rows'">
                                        <label [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-lg-12 control-label vt-label-unset-padding-top':'ui-g-12 ui-md-6 ui-lg-4 control-label vt-align-right'">
                                            <p-checkbox *ngIf="isShowVertical"
                                                        [formControl]="f['isAssessmentOrder']"
                                                        binary="true"
                                            ></p-checkbox>
                                            {{'assessment.evaluating.level' | translate}}
                                        </label>
                                        <div [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-lg-11 vt-float-right vt-padding-vertical':'ui-g-12 ui-md-6 ui-lg-6'"
                                             *ngIf="(f['isAssessmentOrder'].value && isShowVertical) || !isShowVertical">
                                            <select-filter
                                                    [property]="f['assessmentOrder']"
                                                    [options]="assessmentLevelList"
                                                    optionLabel="assessmentLevelName"
                                                    optionValue="assessmentOrder"
                                                    [placeHolder]="'placeholder.all'"
                                            >
                                            </select-filter>
                                            <app-control-messages [control]="f['evaluatingStatus']"></app-control-messages>
                                        </div>
                                    </div>
                                </div>
                                <div *ngIf="(isBasicDivSearch && isShowVertical) || !isShowVertical"
                                     [ngClass]="isShowVertical?'':'ui-g vt-row'">
                                    <div [ngClass]="isShowVertical?'ui-g-12 vt-padding-vertical':'ui-md-6 rows'">
                                        <!--                            <div class="ui-g vt-row">&lt;!&ndash; Row 1 &ndash;&gt;-->
                                        <label [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-lg-12 control-label vt-label-unset-padding-top':'ui-g-12 ui-md-6 ui-lg-4 control-label vt-align-right'">
                                            <p-checkbox *ngIf="isShowVertical"
                                                        [formControl]="f['isEvaluatingStatus']"
                                                        binary="true"
                                            ></p-checkbox>
                                            {{'assessment.evaluating.status' | translate}}
                                        </label>
                                        <div [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-lg-11 vt-float-right vt-padding-vertical':'ui-g-12 ui-md-6 ui-lg-6'"
                                             *ngIf="(f['isEvaluatingStatus'].value && isShowVertical) || !isShowVertical">
                                            <select-filter
                                                    [property]="f['evaluatingStatus']"
                                                    [options]="optionAssessmentStatus"
                                                    optionLabel="label"
                                                    [placeHolder]="'placeholder.all'"
                                                    optionValue="value"
                                            >
                                            </select-filter>
                                            <app-control-messages [control]="f['evaluatingStatus']"></app-control-messages>
                                        </div>
                                    </div>
                                    <div [ngClass]="isShowVertical?'ui-g-12 vt-padding-vertical':'ui-md-6 rows'">
                                        <label [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-lg-12 control-label vt-label-unset-padding-top':'ui-g-12 ui-md-6 ui-lg-4 control-label vt-align-right'">
                                            <p-checkbox *ngIf="isShowVertical"
                                                        [formControl]="f['isSignerId']"
                                                        binary="true"
                                            ></p-checkbox>
                                            {{'assessment.evaluating.signer' | translate}}
                                        </label>
                                        <div [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-lg-11 vt-float-right vt-padding-vertical':'ui-g-12 ui-md-6 ui-lg-6'"
                                             *ngIf="(f['isSignerId'].value && isShowVertical) || !isShowVertical">
                                            <data-picker
                                                #data
                                                [property]="f['signerId']"
                                                systemCode="assessment"
                                                operationKey="action.view"
                                                adResourceKey="resource.assessmentPeriod"
                                                objectBO="AllEmployeeBO"
                                                codeField="employeeCode"
                                                nameField="fullName"
                                                emailField="email"
                                                mobileNumberField="mobileNumber"
                                                selectField="employeeId"
                                                filterCondition=""
                                                [disabled]=""
                                                (onChange)="onChangeEmployee($event)">
                                            </data-picker>
                                            <app-control-messages [control]="f['signerId']"></app-control-messages>
                                        </div>
                                    </div>
                                </div>
                                <div *ngIf="(isBasicDivSearch && isShowVertical) || !isShowVertical"
                                     [ngClass]="isShowVertical?'':'ui-g vt-row'">
                                    <div [ngClass]="isShowVertical?'ui-g-12 vt-padding-vertical':'ui-md-6 rows'">
                                        <!--                            <div class="ui-g vt-row">&lt;!&ndash; Row 1 &ndash;&gt;-->
                                        <label [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-lg-12 control-label vt-label-unset-padding-top':'ui-g-12 ui-md-6 ui-lg-4 control-label vt-align-right'">
                                            <p-checkbox *ngIf="isShowVertical"
                                                        [formControl]="f['isAssessmentSignStatus']"
                                                        binary="true"
                                            ></p-checkbox>
                                            {{'assessment.evaluating.sign.status' | translate}}
                                        </label>
                                        <div [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-lg-11 vt-float-right vt-padding-vertical':'ui-g-12 ui-md-6 ui-lg-6'"
                                             *ngIf="(f['isAssessmentSignStatus'].value && isShowVertical) || !isShowVertical">
                                            <select-filter
                                                    [property]="f['assessmentSignStatus']"
                                                    [options]="optionAssessmentSignStatus"
                                                    optionLabel="label"
                                                    optionValue="value"
                                                    [placeHolder]="'placeholder.all'"
                                            >
                                            </select-filter>
                                            <app-control-messages [control]="f['evaluatingStatus']"></app-control-messages>
                                        </div>
                                    </div>
                                    <div [ngClass]="isShowVertical?'ui-g-12 vt-padding-vertical':'ui-md-6 rows'">
                                        <label [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-lg-12 control-label vt-label-unset-padding-top':'ui-g-12 ui-md-6 ui-lg-4 control-label vt-align-right'">
                                            <p-checkbox *ngIf="isShowVertical"
                                                        [formControl]="f['isCheckHasEvaluating']"
                                                        binary="true"
                                            ></p-checkbox>
                                        </label>
                                        <div [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-lg-11 vt-float-right vt-padding-vertical':'ui-g-12 ui-md-6 ui-lg-6'"
                                             *ngIf="(f['isCheckHasEvaluating'].value && isShowVertical) || !isShowVertical" style="display: flex; align-items: center">
                                            <input type="checkbox" name="isHasEvaluating" formControlName="isHasEvaluating"/>
                                            <label class=" control-label ml-2 pt-2" style="padding-top: unset !important;">
                                                {{'assessment.period.complete' | translate}}
                                            </label>
                                            <app-control-messages [control]="f['isHasEvaluating']"></app-control-messages>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div *ngIf="isMobileScreen">
                                <div class="ui-g-12 vt-row">
                                    <label [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-sm-3 ui-lg-12 control-label vt-label-unset-padding-top':'ui-g-12 ui-md-6 ui-sm-3 ui-lg-4 control-label vt-align-right'">
                                        <p-checkbox *ngIf="isShowVertical"
                                                    [formControl]="f['isAssessmentPeriodId']"
                                                    binary="true"
                                        ></p-checkbox>
                                        {{'assessmentPeriod.name' | translate}}
                                    </label>
                                    <div [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-sm-3 ui-lg-11 vt-float-right vt-padding-vertical':'ui-g-12 ui-md-6 ui-sm-9 ui-lg-6'"
                                            *ngIf="(f['isAssessmentPeriodId'].value && isShowVertical) || !isShowVertical">
                                        <select-filter
                                                [property]="f['assessmentPeriodId']"
                                                [options]="assessmentList"
                                                optionLabel="assessmentPeriodName"
                                                optionValue="assessmentPeriodId"
                                                [placeHolder]="'placeholder.choose'"
                                                (onChange)="onChangeAssessmentPeriod($event)"
                                        >
                                        </select-filter>
                                        <app-control-messages [control]="f['assessmentPeriodId']"></app-control-messages>
                                    </div>
                                </div>
                                <div class="ui-g-12 vt-row">
                                    <label [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-sm-3 ui-lg-12 control-label vt-label-unset-padding-top':'ui-g-12 ui-md-6 ui-sm-3 ui-lg-4 control-label vt-align-right'">
                                        <p-checkbox *ngIf="isShowVertical"
                                                    [formControl]="f['isEmployeeId']"
                                                    binary="true"
                                        ></p-checkbox>
                                        {{'assessment.employeeCode' | translate}}
                                    </label>
                                    <div [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-sm-3 ui-lg-11 vt-float-right vt-padding-vertical':'ui-g-12 ui-md-6 ui-sm-9 ui-lg-6'"
                                            *ngIf="(f['isEmployeeId'].value && isShowVertical) || !isShowVertical">
                                        <data-picker
                                            #data
                                            [property]="f['employeeId']"
                                            systemCode="assessment"
                                            operationKey="action.view"
                                            adResourceKey="resource.assessmentPeriod"
                                            objectBO="EmployeeBO"
                                            codeField="employeeCode"
                                            nameField="fullName"
                                            emailField="email"
                                            mobileNumberField="mobileNumber"
                                            selectField="employeeId"
                                            isDisplayCode="true"
                                            filterCondition=""
                                            [disabled]=""
                                            (onChange)="onChangeEmployee($event)">
                                        </data-picker>
                                        <app-control-messages [control]="f['employeeId']"></app-control-messages>
                                    </div>
                                </div>
                                <div class="ui-g-12 vt-row">
                                    <label [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-sm-3 ui-lg-12 control-label vt-label-unset-padding-top':'ui-g-12 ui-md-6 ui-sm-3 ui-lg-4 control-label vt-align-right'">
                                        <p-checkbox *ngIf="isShowVertical"
                                                    [formControl]="f['isPartyOrganizationId']"
                                                    binary="true"
                                        ></p-checkbox>
                                        {{'assessment.partyOrg' | translate}}
                                    </label>
                                    <div [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-sm-3 ui-lg-11 vt-float-right vt-padding-vertical':'ui-g-12 ui-md-6 ui-sm-9 ui-lg-6'"
                                            *ngIf="(f['isPartyOrganizationId'].value && isShowVertical) || !isShowVertical">
                                        <party-org-selector
                                                [property]="f['partyOrganizationId']"
                                                operationKey="action.view"
                                                adResourceKey="resource.assessmentPeriod"
                                                [defaultValue]="true"
                                                [isRequiredField]="false"
                                        >
                                        </party-org-selector>
                                        <app-control-messages [control]="f['partyOrganizationId']"></app-control-messages>
                                    </div>
                                </div>
                                <div class="ui-g-12 vt-row">
                                    <label [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-sm-3 ui-lg-12 control-label vt-label-unset-padding-top':'ui-g-12 ui-md-6 ui-sm-3 ui-lg-4 control-label vt-align-right'">
                                        <p-checkbox *ngIf="isShowVertical"
                                                    [formControl]="f['isAssessmentOrder']"
                                                    binary="true"
                                        ></p-checkbox>
                                        {{'assessment.evaluating.level' | translate}}
                                    </label>
                                    <div [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-sm-3 ui-lg-11 vt-float-right vt-padding-vertical':'ui-g-12 ui-md-6 ui-sm-9 ui-lg-6'"
                                            *ngIf="(f['isAssessmentOrder'].value && isShowVertical) || !isShowVertical">
                                        <select-filter
                                                [property]="f['assessmentOrder']"
                                                [options]="assessmentLevelList"
                                                optionLabel="assessmentLevelName"
                                                optionValue="assessmentOrder"
                                                [placeHolder]="'placeholder.all'"
                                        >
                                        </select-filter>
                                        <app-control-messages [control]="f['evaluatingStatus']"></app-control-messages>
                                    </div>
                                </div>
                                <div class="ui-g-12 vt-row">
                                    <label [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-sm-3 ui-lg-12 control-label vt-label-unset-padding-top':'ui-g-12 ui-md-6 ui-sm-3 ui-lg-4 control-label vt-align-right'">
                                        <p-checkbox *ngIf="isShowVertical"
                                                    [formControl]="f['isEvaluatingStatus']"
                                                    binary="true"
                                        ></p-checkbox>
                                        {{'assessment.evaluating.status' | translate}}
                                    </label>
                                    <div [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-sm-3 ui-lg-11 vt-float-right vt-padding-vertical':'ui-g-12 ui-md-6 ui-sm-9 ui-lg-6'"
                                            *ngIf="(f['isEvaluatingStatus'].value && isShowVertical) || !isShowVertical">
                                        <select-filter
                                                [property]="f['evaluatingStatus']"
                                                [options]="optionAssessmentStatus"
                                                optionLabel="label"
                                                [placeHolder]="'placeholder.all'"
                                                optionValue="value"
                                        >
                                        </select-filter>
                                        <app-control-messages [control]="f['evaluatingStatus']"></app-control-messages>
                                    </div>
                                </div>
                                <div class="ui-g-12 vt-row">
                                    <label [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-sm-3 ui-lg-12 control-label vt-label-unset-padding-top':'ui-g-12 ui-md-6 ui-sm-3 ui-lg-4 control-label vt-align-right'">
                                        <p-checkbox *ngIf="isShowVertical"
                                                    [formControl]="f['isSignerId']"
                                                    binary="true"
                                        ></p-checkbox>
                                        {{'assessment.evaluating.signer' | translate}}
                                    </label>
                                    <div [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-sm-3 ui-lg-11 vt-float-right vt-padding-vertical':'ui-g-12 ui-md-6 ui-sm-9 ui-lg-6'"
                                            *ngIf="(f['isSignerId'].value && isShowVertical) || !isShowVertical">
                                        <data-picker
                                            #data
                                            [property]="f['signerId']"
                                            systemCode="assessment"
                                            operationKey="action.view"
                                            adResourceKey="resource.assessmentPeriod"
                                            objectBO="AllEmployeeBO"
                                            codeField="employeeCode"
                                            nameField="fullName"
                                            emailField="email"
                                            mobileNumberField="mobileNumber"
                                            selectField="employeeId"
                                            filterCondition=""
                                            [disabled]=""
                                            (onChange)="onChangeEmployee($event)">
                                        </data-picker>
                                        <app-control-messages [control]="f['signerId']"></app-control-messages>
                                    </div>
                                </div>
                                <div class="ui-g-12 vt-row">
                                    <label [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-sm-3 ui-lg-12 control-label vt-label-unset-padding-top':'ui-g-12 ui-md-6 ui-sm-3 ui-lg-4 control-label vt-align-right'">
                                        <p-checkbox *ngIf="isShowVertical"
                                                    [formControl]="f['isAssessmentSignStatus']"
                                                    binary="true"
                                        ></p-checkbox>
                                        {{'assessment.evaluating.sign.status' | translate}}
                                    </label>
                                    <div [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-sm-3 ui-lg-11 vt-float-right vt-padding-vertical':'ui-g-12 ui-md-6 ui-sm-9 ui-lg-6'"
                                            *ngIf="(f['isAssessmentSignStatus'].value && isShowVertical) || !isShowVertical">
                                        <select-filter
                                                [property]="f['assessmentSignStatus']"
                                                [options]="optionAssessmentSignStatus"
                                                optionLabel="label"
                                                optionValue="value"
                                                [placeHolder]="'placeholder.all'"
                                        >
                                        </select-filter>
                                        <app-control-messages [control]="f['evaluatingStatus']"></app-control-messages>
                                    </div>
                                </div>
                                <div [ngClass]="isShowVertical?'ui-g-12 vt-padding-vertical':'ui-md-6 rows'">
                                    <label [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-lg-12 control-label vt-label-unset-padding-top':'ui-g-12 ui-md-6 ui-lg-4 control-label vt-align-right'">
<!--                                        <p-checkbox *ngIf="isShowVertical"-->
<!--                                                    [formControl]="f['isCheckHasEvaluating']"-->
<!--                                                    binary="true"-->
<!--                                        ></p-checkbox>-->
                                    </label>
                                    <div [ngClass]="isShowVertical?'ui-g-12 ui-md-6 ui-sm-3 ui-lg-11 vt-float-right vt-padding-vertical':'ui-g-12 ui-md-6 ui-sm-9 ui-lg-6'"
                                            *ngIf="(f['isCheckHasEvaluating'].value && isShowVertical) || !isShowVertical" style="display: flex; align-items: center">
                                        <input type="checkbox" name="isHasEvaluating" formControlName="isHasEvaluating"/>
                                        <label class=" control-label ml-2" style="padding-top: unset !important;">
                                            {{'assessment.period.complete' | translate}}
                                        </label>
                                        <app-control-messages [control]="f['isHasEvaluating']"></app-control-messages>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div *ngIf="isBasicSearch" class="panel-footer vt-area-button">
                        <button type="submit" class="btn btn-sm vt-btn btn-submit" (click)="processSearchEmployee()"
                                [innerHTML]="'common.button.icon.search' | translate"></button>
                        <button *ngIf="isShowVertical" type="submit" class="btn btn-sm vt-btn "
                                (click)="showFormSearch(false)"
                                [innerHTML]="'common.button.icon.out' | translate"></button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div id="listArea" [ngClass]="isShowVertical?'display-list-vertical':''"
         [ngStyle]="{'width': isShowVertical && !isShowHideVertical ? '100%' : '','height': isShowVertical && !isShowHideVertical ? '85vh' : ''}">
        <div [ngClass]="isShowVertical?'panel panel-default display-max-vertical-height':'panel panel-default'">
            <div class="panel-heading vt-relative vt-panel-heading-table">
                <strong>
                    <img *ngIf="isShowVertical && !isShowHideVertical" alt="next" class="img-fluid icon-show-hide-search" src="./../../../../../../assets/images/home/Mask_Group_24371.png"  (click)="closeBasicSearch()">
                    {{'assessment.assessmentPeriodStaffList' | translate}}
                </strong>
                <div class="show-btn-right-header">
                    <button *ngIf="hasPermission('action.view')" type="button" class="btn btn-sm vt-btn btn-submit" (click)="processCreateList()"
                            [innerHTML]="'assessmentPeriod.button.makeList' | translate"></button>
                    <button *ngIf="hasPermission('action.view','resource.assessmentPeriodMember')" type="submit" class="btn btn-sm vt-btn btn-submit" (click)="add(false)"
                            [innerHTML]="'common.button.table.addStaff' | translate"></button>
                    <button *ngIf="hasPermission('action.view','resource.assessmentPeriodMember')" type="button" class="btn btn-sm vt-btn" (click)="processStaffImport(formEmployee)"
                            [innerHTML]="'common.button.importStaff' | translate"></button>
                    <button type="button" class="btn btn-sm vt-btn" (click)="processImportVotingResult(formEmployee)"
                            [innerHTML]="'common.button.importVotingResult' | translate"></button>
                    <button *ngIf="hasPermission('action.view', 'resource.assessmentSign')" type="button" class="btn btn-sm vt-btn btn-submit" (click)="redictRouter()"
                            [innerHTML]="'common.button.actSign' | translate"></button>
                    <button  *ngIf="showSignAll && hasPermission('action.view', 'resource.assessmentSignAll')" type="button" class="btn btn-sm vt-btn btn-submit" (click)="redictRouter(true)"
                            [innerHTML]="'common.button.actSignAll' | translate"></button>
                    <button type="submit" (click)="processExportV2()" class="btn btn-sm vt-btn"
                            [innerHTML]="'common.button.icon.export' | translate"></button>
                    <button type="button" class="btn btn-sm vt-btn btn-submit" (click)="signCB(formEmployee)"
                            [innerHTML]="'common.button.assessment.actSign' | translate" hidden></button>
                </div>
            </div>
            <div class="panel-body panel-table table-container">
                <p-table
                    #ptable
                    [value]="assessmentEmployeeList.data"
                    [paginator]="true"
                    (onLazyLoad)="processSearchEmployee($event)"
                    [lazy]="true" [rows]="changeRow"
                    [scrollable]="true"
                    [totalRecords]="assessmentEmployeeList.recordsTotal"
                    [(selection)]="listSelected"
                    tableStyleClass="table table-wrapper table-hover table-striped b-t b-b"
                    [resizableColumns]="true"
                    styleClass="controlOverflow"
                    (onRowSelect)="onSelectChange()"
                    (onHeaderCheckboxToggle)="onSelectChange()"
                >
                    <ng-template pTemplate="colgroup" let-columns>
                        <colgroup class="ng-star-inserted">
                            <col style="width: 50px;">
                            <col style="width: 50px;">
                            <col style="width: 50px;">
                            <col style="width: 200px;">
                            <col style="width: 200px;">
                            <col style="width: 200px;">
                            <col style="width: 200px;">
                            <col style="width: 200px;">
                            <col style="width: 200px;">
                            <col style="width: 100px;">
                            <col style="width: 100px;">
                            <col style="width: 100px;">
                            <col style="width: 200px;">
                            <col style="width: 100px;">
                            <col style="width: 200px;">
                        </colgroup>
                    </ng-template>
                    <ng-template pTemplate="header">
                        <tr>
                            <th pResizableColumn></th>
                            <th translate pResizableColumn>common.table.index</th>
                            <th pResizableColumn>
                                <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
                            </th>
                            <th [pSortableColumn]="'employeeCode'" pResizableColumn>
                                {{'assessmentPeriod.assessmentEmployeeList.employee' | translate}}
                                <p-sortIcon [field]="'employeeCode'"></p-sortIcon>
                            </th>
                            <th pResizableColumn>
                                {{'assessmentPeriod.assessmentEmployeeList.position' | translate}}
                                <p-sortIcon [field]="'employeePositionName'"></p-sortIcon>
                            </th>
                            <th pResizableColumn>{{'common.label.unit' | translate}}</th>
                            <th pResizableColumn>{{'partymanager.label.partyTitle' | translate}}</th>
                            <th pResizableColumn>{{'organization.label.name' | translate}}</th>
                            <th pResizableColumn>{{'assessmentPeriod.assessmentEmployeeList.levelListMapping' | translate}}</th>
                            <th pResizableColumn>{{'assessmentPeriod.assessmentEmployeeList.viewFileVO' | translate}}</th>
                            <th pResizableColumn>{{'assessmentPeriod.assessmentLevelList.evaluatingLevel' | translate}}</th>
                            <th pResizableColumn>{{'assessmentPeriod.assessmentLevelList.assessmentResultStatus' | translate}}</th>
                            <th pResizableColumn>{{'assessmentPeriod.assessmentLevelList.signer' | translate}}</th>
                            <th pResizableColumn>{{'assessmentPeriod.assessmentLevelList.assessmentDeadlineDate' | translate}}</th>
                            <th pResizableColumn>{{'assessmentPeriod.assessmentLevelList.assessmentCompleteDate' | translate}}</th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-item let-index="rowIndex+1">
                        <tr>
                            <td class="vt-align-center">
                                <div ngbDropdown class="d-inline-block">
                                    <div ngbDropdownToggle class="vt-action-hover">
                                        <img class="menu-icon" src="./../../../assets/images/home/Icon.svg">
                                    </div>
                                    <div ngbDropdownMenu class="vt-border-radius">
                                        <!-- Xóa -->
                                        <button *ngIf="hasPermission('action.view','resource.assessmentPeriodMember')" class="dropdown-item" (click)="deleteEmployee(item) "
                                                [innerHTML]="'assessmentPeriod.button.deleteAssessmentEmp' | translate">
                                        </button>
                                        <!-- Xóa KQDG-->
                                        <button *ngIf="hasPermission('action.view')" class="dropdown-item" (click)="deleteResult(item)"
                                                [innerHTML]="'common.button.deleteAssessmentResultIcon' | translate">
                                        </button>
                                        <!-- Cap nhat danh gia-->
                                        <button  *ngIf="item.updateStaffEvaluate" class="dropdown-item" (click)="updateVoting(item)"
                                                 [innerHTML]="'common.button.updateVotingIcon' | translate">
                                        </button>
                                        <!-- Trinh ky-->
                                        <!--                                        <div>-->
                                        <!--                                            <button class="dropdown-item" (click)="signature(item)"-->
                                        <!--                                                    [innerHTML]="'common.label.sign' | translate">-->
                                        <!--                                            </button>-->
                                        <!--                                        </div>-->
                                        <!-- Yeu cau danh gia-->
                                        <button  class="dropdown-item" *ngIf="item.allowReEvaluate" (click)="processReEvaluateEmployee(item)"
                                                 [innerHTML]="'assessmentPeriod.assessmentLevelMappingCriteriaAgainIcon' | translate">
                                        </button>
                                        <!-- Cập nhật trạng thái Voffice -->
                                        <button *ngIf="item.transCode" (click)="updateVoffice(item.transCode)" [innerHTML]="'assessmentPeriod.assessmentEmployeeList.updateVoffice' | translate"
                                                class="dropdown-item">
                                        </button>
                                        <!--Lịch sử đánh giá-->
                                        <div>
                                            <button class="dropdown-item" (click)="showHistoryLog(item)"
                                                    [innerHTML]="'assessmentResult.historyLogIcon' | translate">
                                            </button>
                                        </div>

                                        <!--Trinh ky-->
                                        <div>
                                            <button class="dropdown-item d-flex" *ngIf="item.allowSign"
                                                    (click)="handleSign(item)"
                                                    [innerHTML]="'common.button.actSign' | translate">
                                            </button>
                                        </div>
                                        <!--Huy trinh ky-->
                                        <button class="dropdown-item" *ngIf="item.assessmentResultStatus == 1"
                                                (click)="cancelSign(item)"
                                                [innerHTML]="'common.button.icon.cancelSignReward' | translate">
                                        </button>
                                        <!-- Xem chi tiết KQDG -->
                                        <a href="assessment/detail/{{item.assessmentPeriodId}}/{{item.employeeCode}}" target="_blank" class="dropdown-item"
                                           [innerHTML]="'common.button.table.assessment.viewdropdown' | translate">
                                        </a>
                                    </div>
                                </div>
                            </td>
                            <td class="vt-align-center">{{index}}</td>
                            <td class="vt-align-center">
                                <p-tableCheckbox *ngIf="item.canYouHavePermission && isValidFormToSign()" [value]="item"></p-tableCheckbox>
                            </td>
                            <td class="vt-align-left text-break">
                                <ul>
                                    <li><span>{{item.employeeName}}</span></li>
                                    <li><span>{{item.employeeCode}}</span></li>
                                    <li><span>{{item.employeeEmail}}</span></li>
                                </ul>
                            </td>
                            <td class="vt-align-left" title="{{item.employeePositionName}}">
                                {{item.employeePositionName}}
                            </td>
                            <td class="vt-align-left" title="{{item.organizationName}}">
                                {{item.organizationName}}
                            </td>
                            <td class="vt-align-left" title="{{item.employeePartyPosition}}">
                                {{item.employeePartyPosition}}
                            </td>
                            <td class="vt-align-left" title="{{item.employeePartyOrganization}}">
                                {{item.employeePartyOrganization}}
                            </td>

                            <td class="vt-align-left text-break">
                                <ul>
                                    <li *ngFor="let data of item.levelNameEmployeeList; index as idx">
                                        <span *ngIf="data.statusEvaluate === 'DONE'"
                                              (click)="viewFileSign(item.signDocumentId)"
                                              title="{{'assessment.evaluating.nextstaff' | translate}}"
                                              style="font-weight: bold;color: #13C3DB;"
                                        >
                                            {{data.levelNameEmployeeMapping}}
                                        </span>
                                        <span *ngIf="data.statusEvaluate === 'PROCESSING'"
                                              title="{{'assessment.evaluating.nextstaff' | translate}}"
                                              style="font-weight: bold;color: #0B5178;"
                                        >
                                            {{data.levelNameEmployeeMapping}}
                                        </span>
                                        <span *ngIf="data.statusEvaluate === 'PENDING'">{{data.levelNameEmployeeMapping}}</span>
                                    </li>
                                    <a style="color: #0943B5;" (click)="setupEmployeeAssessment(item.employeeId, true)">
                                        {{'assessmentPeriod.assessmentEmployeeList.addEmployee' | translate}}
                                    </a>
                                </ul>
                            </td>
                            <td class="vt-align-center">
                                <a class="btn-table eye" (click)="preview(item)"
                                   title="{{'assessment.button.table.hEye' | translate}}"><i
                                        class="fa fa-eye color-info"></i></a>
                            </td>
                            <td class="vt-align-left">
                                {{item.evaluatingLevelName}}
                            </td>
                            <td class="vt-align-left">
                                <span *ngIf="item.assessmentResultStatus == 0">Dự Thảo</span>
                                <span *ngIf="item.assessmentResultStatus == 1">Đang trình ký</span>
                                <span *ngIf="item.assessmentResultStatus == 2">Từ chối ký duyệt</span>
                                <span *ngIf="item.assessmentResultStatus == 3">Đã ký duyệt</span>
                                <span *ngIf="item.assessmentResultStatus == 4">Đã nộp</span>
                            </td>
                            <td class="vt-align-left text-break">
                                <ul *ngIf="item.userSign && item.userSign.signerCode">
                                    <li><span>{{item.userSign.signerName}}</span></li>
                                    <li><span>{{item.userSign.signerCode}}</span></li>
                                    <li><span>{{item.userSign.signerEmail}}</span></li>
                                </ul>
                            </td>
                            <td class="vt-align-left">
                                {{item.assessmentDeadlineDate | displayDate}}
                            </td>
                            <td class="vt-align-left">
                                {{item.assessmentCompleteDate | displayDate}}
                            </td>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="emptymessage">
                        <tr class="emptymessage">
                            <td [attr.colspan]="10" [innerHTML]="'app.noRecords' | translate">
                            </td>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="paginatorleft">
                        <table-footer (changeRow)="onTablePageChange($event)" [resultList]="assessmentEmployeeList"></table-footer>
                    </ng-template>
                </p-table>
            </div>
        </div>
    </div>
</div>
