<div *ngIf="hasPermission('action.export')">
    <div id="searchPage">
        <div id="searchArea">
            <div class="panel panel-default card-info">
                <div class="panel-heading">
                    <strong>
                        {{'partyOrganization.qualityAnalysis.title' | translate}}
                    </strong>
                </div>
                <form id="formQualityAnalysisReport" [formGroup]="formQualityAnalysisReport">
                    <div *ngIf="!isMobileScreen" class="panel-body padding-xl ui-g">
                        <div class="ui-g-12 vt-row">
                            <label class="ui-g-12 ui-md-3 ui-lg-2 control-label vt-align-right required">
                                {{'partyOrganization.qualityAnalysis.reportType' | translate}}
                            </label>
                            <div class="ui-g-12 ui-md-3 ui-lg-3">
                                <select-filter
                                        [property]="f['reportTypeId']"
                                        [options]="reportTypeList"
                                        optionLabel="label"
                                        optionValue="value"
                                        [isMultiLanguage]="false"
                                        [placeHolder]="'common.label.cboMustSelect'"
                                        autofocus="autofocus"
                                >
                                </select-filter>
                                <app-control-messages [control]="f['reportTypeId']"></app-control-messages>
                            </div>
                            <label class="ui-g-12 ui-md-3 ui-lg-3 control-label vt-align-right required">
                                {{'employee.report.year' | translate}}
                            </label>
                            <div class="ui-g-12 ui-md-3 ui-lg-3">
                                <select-filter
                                        [property]="f['year']"
                                        [options]="yearList"
                                        optionLabel="year"
                                        optionValue="year"
                                        [placeHolder]="'common.label.cboMustSelect'"
                                >
                                </select-filter>
                                <app-control-messages [control]="f['year']"></app-control-messages>
                            </div>
                        </div>
                        <div class="ui-g-12 vt-row">
                            <label class="ui-g-12 ui-md-3 ui-lg-2 control-label vt-align-right required">
                                {{'organization.label.name' | translate}}
                            </label>
                            <div class="ui-g-12 ui-md-3 ui-lg-3">
                                <party-org-selector
                                        [property]="f['partyOrganizationId']"
                                        operationKey="action.view"
                                        adResourceKey="resource.qualityAnalysisParty"
                                        [defaultValue]="true"
                                        [isRequiredField]="true">
                                </party-org-selector>
                                <app-control-messages [control]="f['partyOrganizationId']"></app-control-messages>
                            </div>
                        </div>
                    </div>
                    <div *ngIf="isMobileScreen" class="panel-body padding-xl ui-g">
                        <div class="ui-g-12 vt-row">
                            <label class="ui-g-12 ui-md-3 ui-sm-3 ui-lg-2 control-label vt-align-right required">
                                {{'partyOrganization.qualityAnalysis.reportType' | translate}}
                            </label>
                            <div class="ui-g-12 ui-md-3 ui-sm-9 ui-lg-3">
                                <select-filter
                                        [property]="f['reportTypeId']"
                                        [options]="reportTypeList"
                                        optionLabel="label"
                                        optionValue="value"
                                        [isMultiLanguage]="false"
                                        [placeHolder]="'common.label.cboMustSelect'"
                                        autofocus="autofocus"
                                >
                                </select-filter>
                                <app-control-messages [control]="f['reportTypeId']"></app-control-messages>
                            </div>
                        </div>
                        <div class="ui-g-12 vt-row">
                            <label class="ui-g-12 ui-md-3 ui-sm-3 ui-lg-3 control-label vt-align-right required">
                                {{'employee.report.year' | translate}}
                            </label>
                            <div class="ui-g-12 ui-md-3 ui-sm-9 ui-lg-3">
                                <select-filter
                                        [property]="f['year']"
                                        [options]="yearList"
                                        optionLabel="year"
                                        optionValue="year"
                                        [placeHolder]="'common.label.cboMustSelect'"
                                >
                                </select-filter>
                                <app-control-messages [control]="f['year']"></app-control-messages>
                            </div>
                        </div>
                        <div class="ui-g-12 vt-row">
                            <label class="ui-g-12 ui-md-3 ui-sm-3 ui-lg-2 control-label vt-align-right required">
                                {{'organization.label.name' | translate}}
                            </label>
                            <div class="ui-g-12 ui-md-3 ui-sm-9 ui-lg-3">
                                <party-org-selector
                                        [property]="f['partyOrganizationId']"
                                        operationKey="action.view"
                                        adResourceKey="resource.qualityAnalysisParty"
                                        [defaultValue]="true"
                                        [isRequiredField]="true">
                                </party-org-selector>
                                <app-control-messages [control]="f['partyOrganizationId']"></app-control-messages>
                            </div>
                        </div>
                    </div>
                </form>
                <div class="panel-footer vt-area-button">
                    <button type="submit" (click)="processExport()" class="btn btn-sm vt-btn"
                            [innerHTML]="'common.button.icon.export' | translate"></button>
                </div>
            </div>
        </div>
    </div>
</div>
<div *ngIf="!hasPermission('action.export')">
    {{'common.haveNoPermission' | translate}}
</div>
 