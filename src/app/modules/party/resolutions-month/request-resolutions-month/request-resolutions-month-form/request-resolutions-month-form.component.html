<div class="card-form">
  <div class="clearfix">
    <div class="left-nav-bar pull-left row-header">
      <div>
        <img alt="back" class="img-fluid" src="./../../../../../../assets/images/home/Mask_Group_18824.png" (click)="goBack();">
        <span *ngIf="!isAddPartyExcute && !isView && !f['requestResolutionsMonthId'].value" class="title" translate> label.resolutionsMonth.insert</span>
        <span *ngIf="!isAddPartyExcute && !isView && f['requestResolutionsMonthId'].value" class="title" translate> label.resolutionsMonth.update</span>
        <span *ngIf="isAddPartyExcute" class="title" translate> label.resolutionsMonth.addPartyExcute</span>
        <span *ngIf="isView" class="title"> {{ 'Xem chi tiết ' + this.f['name'].value }}</span>
      </div>
    </div>
    <div class="right-nav-bar pull-right left-option">
        <ul class="header-right sys-ul space-line">
          <li *ngIf="!isAddPartyExcute && !isView">
            <button class="btn btn-sm vt-btn btn-submit mt-btn ng-star-inserted" type="button" (click)="processSaveOrUpdate()" [innerHTML]="'common.button.icon.save' | translate">
            </button>
          </li>
          <li *ngIf="isAddPartyExcute">
            <button class="btn btn-sm vt-btn btn-submit mt-btn ng-star-inserted" type="button" (click)="addPartyExcute()" [innerHTML]="'common.button.adds' | translate">
            </button>
          </li>
          <li>
            <button class="btn btn-sm vt-btn mt-btn ng-star-inserted" type="button" (click)="goBack();" [innerHTML]="'common.button.out' | translate">
            </button>
          </li>
          <li *ngIf="isView">
            <button class="btn btn-sm vt-btn btn-submit mt-btn btn-header-right ng-star-inserted" type="button" (click)="navigate()" [innerHTML]="'common.button.icon.edit' | translate">
            </button>
          </li>
        </ul>
    </div>
  </div>
</div>
<div>
  <div class="panel panel-default card-info">
    <div class="panel-heading">
      <strong>
        <!-- <span *ngIf="!isAddPartyExcute && !isView && !f['requestResolutionsMonthId'].value" translate> label.resolutionsMonth.insert</span>
        <span *ngIf="!isAddPartyExcute && !isView && f['requestResolutionsMonthId'].value" translate> label.resolutionsMonth.update</span>
        <span *ngIf="isAddPartyExcute" translate> label.resolutionsMonth.addPartyExcute</span>
        <span *ngIf="isView"> {{ 'Xem chi tiết ' + this.f['name'].value }}</span> -->
        <span class="ml-2 title-info">Thông tin yêu cầu ra nghị quyết tháng, quý, năm</span>
      </strong>
    </div>
    <form id="formSave" [formGroup]="formSave">
      <div *ngIf="!isMobileScreen" class="panel-body padding-xl ui-g">
        <div class="ui-g-12 vt-row">
          <label class="ui-g-12 ui-md-3 ui-lg-2 control-label vt-align-right" [ngClass]="isView?'':'required'">
            {{'app.requestResolutionMonth.requestedPeriod' | translate}}
          </label>
          <div class="ui-g-12 ui-md-3 ui-lg-3" style="line-height: 32px;">
            <div class="form-check-inline">
              <label class="i-checks">
                <input (click)="generateName(1);" type="radio" class="form-check-input control-label" id="requestedPeriod_1" [value]="1"
                  name="requestedPeriod" formControlName="requestedPeriod" [attr.disabled]=" f['requestResolutionsMonthId'].value ? true : null">
                <i></i>
                {{'requestSolutionMonth.requestedPeriod.1' | translate}}
              </label>
            </div>
            <div class="form-check-inline">
              <label class="i-checks">
                <input (click)="generateName(4);" type="radio"class="form-check-input control-label" id="requestedPeriod_4" [value]="4"
                  name="requestedPeriod" formControlName="requestedPeriod" [attr.disabled]="isShowPeriodQuarter ? null : true">
                <i></i>
                {{'requestSolutionMonth.requestedPeriod.4' | translate}}
              </label>
            </div>
            <div class="form-check-inline">
              <label class="i-checks">
                <input (click)="generateName(2);" type="radio"class="form-check-input control-label" id="requestedPeriod_2" [value]="2"
                  name="requestedPeriod" formControlName="requestedPeriod" [attr.disabled]=" isShowPeriod6Month ? null : true">
                <i></i>
                {{'requestSolutionMonth.requestedPeriod.2' | translate}}
              </label>
            </div>
            <div class="form-check-inline">
              <label class="i-checks">
                <input (click)="generateName(3);" type="radio"class="form-check-input control-label" id="requestedPeriod_3" [value]="3" 
                  name="requestedPeriod" formControlName="requestedPeriod" [attr.disabled]=" isShowPeriodYear ? null : true">
                <i></i>
                {{'requestSolutionMonth.requestedPeriod.3' | translate}}
              </label>
            </div>
            <app-control-messages [control]="f['requestedPeriod']"></app-control-messages>
          </div>
          <label *ngIf="!isView" class="ui-g-12 ui-md-3 ui-lg-2 control-label vt-align-right required">
            {{'app.requestResolutionMonth.partyOrgGivenRequest' | translate}}
          </label>
          <div *ngIf="!isView" class="ui-g-12 ui-md-3 ui-lg-3">
            <party-org-selector
              [property]="f['partyOrganizationId']"
              operationKey="action.view"
              adResourceKey="resource.requestResolutionMonth"
              [defaultValue]="true"
              isRequiredField = "true"
              (onChange) = "onChangeUnit($event.type)"
              [filterCondition] = "filterConditionPartyOrg"
              [disabled] = "f['requestResolutionsMonthId'].value"
              #partyOrgSelectorNotLeafOrg
            >
            </party-org-selector>
          </div>
          <label *ngIf="isView" class="ui-g-12 ui-md-3 ui-lg-2 control-label vt-align-right">
            {{'app.requestResolutionMonth.partyOrgRequestLevel' | translate}}
          </label>
          <div *ngIf="isView" class="ui-g-12 ui-md-3 ui-lg-3" style="line-height: 32px;">
            <div class="form-check-inline">
              <label class="i-checks">
                <input type="radio" class="form-check-input control-label" id="partyType_1" [value]="1" 
                  name="partyType" formControlName="partyType" [attr.disabled]=" f['requestResolutionsMonthId'].value ? true : null">
                <i></i>
                {{'app.resolutionsMonth.requestedLevel.1' | translate}}
              </label>
            </div>
            <div class="form-check-inline" *ngIf="isShowPeriod6Month || f['requestResolutionsMonthId'].value">
              <label class="i-checks">
                <input type="radio"class="form-check-input control-label" id="partyType_2" [value]="2"
                  na me="partyType" formControlName="partyType" [attr.disabled]=" f['requestResolutionsMonthId'].value ? true : null">
                <i></i>
                {{'app.resolutionsMonth.requestedLevel.2' | translate}}
              </label>
            </div>
            <div class="form-check-inline" *ngIf="isShowPeriodYear || f['requestResolutionsMonthId'].value">
              <label class="i-checks">
                <input type="radio"class="form-check-input control-label" id="partyType_3" [value]="3"
                  name="partyType" formControlName="partyType" [attr.disabled]=" f['requestResolutionsMonthId'].value ? true : null">
                <i></i>
                {{'app.resolutionsMonth.requestedLevel.3' | translate}}
              </label>
            </div>
            <div class="form-check-inline" *ngIf="f['requestResolutionsMonthId'].value">
              <label class="i-checks">
                <input type="radio"class="form-check-input control-label" id="partyType_4" [value]="4"
                  name="partyType" formControlName="partyType" [attr.disabled]=" f['requestResolutionsMonthId'].value ? true : null">
                <i></i>
                {{'app.resolutionsMonth.requestedLevel.4' | translate}}
              </label>
            </div>
          </div>
          <app-control-messages [control]="f['partyOrganizationId']"></app-control-messages>
        </div>
        <div *ngIf = "!isView" class="ui-g-12 vt-row">
          <label class="ui-g-12 ui-md-3 ui-lg-2 control-label vt-align-right required">
            {{'app.requestResolutionMonth.name' | translate}}
          </label>
          <div class="ui-g-12 ui-md-3 ui-lg-3">
            <input type="text" class="form form-control" name="name" formControlName="name" maxlength="200" [attr.disabled] = "true">
            <app-control-messages [control]="f['name']"></app-control-messages>
          </div>
        </div>
        <div class="ui-g-12 vt-row">
          <label class="ui-g-12 ui-md-6 ui-lg-2 control-label vt-align-right" [ngClass]="isView?'':'required'" >
            {{'app.requestResolutionMonth.requestedDate' | translate}}
          </label>
          <div class="ui-g-12 ui-md-6 ui-lg-3">
            <date-picker
              [property]="f['requestDate']" [disabled] = "isAddPartyExcute || isView">
            </date-picker>
            <app-control-messages [control]="f['requestDate']"></app-control-messages>
          </div>
          <label class="ui-g-12 ui-md-6 ui-lg-2 control-label vt-align-right" [ngClass]="isView?'':'required'">
            {{'app.requestResolutionMonth.finishDate' | translate}}
          </label>
          <div class="ui-g-12 ui-md-6 ui-lg-3">
            <date-picker
              [property]="f['finishDate']" [disabled] = "isAddPartyExcute || isView">
            </date-picker>
            <app-control-messages [control]="f['finishDate']"></app-control-messages>
          </div>
        </div>
        <div *ngIf = "!isView" class="ui-g-12 vt-row">
          <label class="ui-g-12 ui-md-3 ui-lg-2 control-label vt-align-right">
            {{'app.resolutionsMonth.partyLevelExcute' | translate}}
          </label>
          <div class="ui-g-12 ui-md-3 ui-lg-3" style="line-height: 32px;">
            <div class="form-check-inline">
              <label class="i-checks">
                <input disabled="true" type="checkbox"class="form-check-input control-label" id="checkBox_1" [value]="1" name="capChiBoTrucThuoc" formControlName="capChiBoTrucThuoc">
                <i></i>
                Cấp chi bộ trực thuộc
              </label>
            </div>
            <div class="form-check-inline">
              <label class="i-checks">
                <input disabled="true" type="checkbox"class="form-check-input control-label" id="checkBox_2" [value]="1" name="capChiBoCoSo" formControlName="capChiBoCoSo">
                <i></i>
                Cấp chi bộ cơ sở
              </label>
            </div>
            <div class="form-check-inline">
              <label class="i-checks">
                <input disabled="true" type="checkbox"class="form-check-input control-label" id="checkBox_3" [value]="1" name="capDangBoCoSo" formControlName="capDangBoCoSo">
                <i></i>
                Cấp đảng bộ cơ sở
              </label>
            </div>
            <div class="form-check-inline">
              <label class="i-checks">
                <input disabled="true" type="checkbox"class="form-check-input control-label" id="checkBox_4" [value]="1" name="capDangBoBoPhan" formControlName="capDangBoBoPhan">
                <i></i>
                Cấp đảng bộ bộ phận
              </label>
            </div>
          </div>
        </div>
        <div class="ui-g-12 vt-row">
          <label class="ui-g-12 ui-md-3 ui-lg-2 control-label vt-align-right ">
            {{'app.responseResolutionMonth.instructionFile' | translate}}
          </label>
          <div *ngIf="!isHideFile || !isView" class="ui-g-12 ui-md-3 ui-lg-3">
            <div *ngIf="!isView && createdBy != 'ROBOT_SCHEDULE'">
              <multi-file-chooser
                [property]="f['attachFile']"
                htmlId="attachFile"
                validType="xls,xlsx,doc,docx,pdf"
                [validMaxSize]="50"
                [disabled] = "isAddPartyExcute || isView">
              </multi-file-chooser>
            </div>
            <div *ngIf="isView || createdBy == 'ROBOT_SCHEDULE'">
              <a *ngFor="let data of templateFileDefault"
                style="color: rgb(0, 153, 255); white-space: nowrap; text-overflow: ellipsis; max-width: 340px; display: block; overflow: hidden; padding-top: 5px;"
                (click)="downloadFile(data)">
                <i class="fas fa-download" style="padding-right: 10px;"></i>
                <span>{{data.fileName}}</span>
                <br>
              </a>
            </div>
            <app-control-messages [control]="f['attachFile']"></app-control-messages>
          </div>
          <label *ngIf="!isHideTree" class="ui-g-12 ui-md-3 ui-lg-2 control-label vt-align-right">
            {{'app.requestResolutionMonth.partyOrgPerformRequest' | translate}}
          </label>
          <div *ngIf="!isHideTree" class="ui-g-12 ui-md-3 ui-lg-3">
            <party-tree-selector
              operationKey="action.view"
              adResourceKey="resource.requestResolutionMonth"
              height="735"
              #orgTree
              isGetAll = "true"
              [requestId] = "requestResolutionsMonthId"
              [rootId] = "f['partyOrganizationId'].value"
            >
            </party-tree-selector>
            <app-control-messages [control]="f['lstNodeCheck']"></app-control-messages>
          </div>
        </div>
      </div>
      <div *ngIf="isMobileScreen" class="panel-body padding-xl ui-g">
        <div class="ui-g-12 vt-row">
          <label class="ui-g-12 ui-md-3 ui-sm-3 ui-lg-2 control-label vt-align-right" [ngClass]="isView?'':'required'">
            {{'app.requestResolutionMonth.requestedPeriod' | translate}}
          </label>
          <div class="ui-g-12 ui-md-3 ui-sm-9 ui-lg-3" style="line-height: 32px;">
            <div class="form-check-inline">
              <label class="i-checks">
                <input (click)="generateName(1);" type="radio" class="form-check-input control-label" id="requestedPeriod_1" [value]="1"
                  name="requestedPeriod" formControlName="requestedPeriod" [attr.disabled]=" f['requestResolutionsMonthId'].value ? true : null">
                <i></i>
                {{'requestSolutionMonth.requestedPeriod.1' | translate}}
              </label>
            </div>
            <div class="form-check-inline">
              <label class="i-checks">
                <input (click)="generateName(4);" type="radio"class="form-check-input control-label" id="requestedPeriod_4" [value]="4"
                  name="requestedPeriod" formControlName="requestedPeriod" [attr.disabled]="isShowPeriodQuarter ? null : true">
                <i></i>
                {{'requestSolutionMonth.requestedPeriod.4' | translate}}
              </label>
            </div>
            <div class="form-check-inline">
              <label class="i-checks">
                <input (click)="generateName(2);" type="radio"class="form-check-input control-label" id="requestedPeriod_2" [value]="2"
                  name="requestedPeriod" formControlName="requestedPeriod" [attr.disabled]=" isShowPeriod6Month ? null : true">
                <i></i>
                {{'requestSolutionMonth.requestedPeriod.2' | translate}}
              </label>
            </div>
            <div class="form-check-inline">
              <label class="i-checks">
                <input (click)="generateName(3);" type="radio"class="form-check-input control-label" id="requestedPeriod_3" [value]="3" 
                  name="requestedPeriod" formControlName="requestedPeriod" [attr.disabled]=" isShowPeriodYear ? null : true">
                <i></i>
                {{'requestSolutionMonth.requestedPeriod.3' | translate}}
              </label>
            </div>
            <app-control-messages [control]="f['requestedPeriod']"></app-control-messages>
          </div>
        </div>
        <div class="ui-g-12 vt-row">
          <label *ngIf="!isView" class="ui-g-12 ui-md-3 ui-sm-3 ui-lg-2 control-label vt-align-right required">
            {{'app.requestResolutionMonth.partyOrgGivenRequest' | translate}}
          </label>
          <div *ngIf="!isView" class="ui-g-12 ui-md-3 ui-sm-9 ui-lg-3">
            <party-org-selector
              [property]="f['partyOrganizationId']"
              operationKey="action.view"
              adResourceKey="resource.requestResolutionMonth"
              [defaultValue]="true"
              isRequiredField = "true"
              (onChange) = "onChangeUnit($event.type)"
              [filterCondition] = "filterConditionPartyOrg"
              [disabled] = "f['requestResolutionsMonthId'].value"
              #partyOrgSelectorNotLeafOrg
            >
            </party-org-selector>
          </div>
        </div>
        <div class="ui-g-12 vt-row">
          <label *ngIf="isView" class="ui-g-12 ui-md-3 ui-sm-3 ui-lg-2 control-label vt-align-right">
            {{'app.requestResolutionMonth.partyOrgRequestLevel' | translate}}
          </label>
          <div *ngIf="isView" class="ui-g-12 ui-md-3 ui-sm-9 ui-lg-3" style="line-height: 32px;">
            <div class="form-check-inline">
              <label class="i-checks">
                <input type="radio" class="form-check-input control-label" id="partyType_1" [value]="1" 
                  name="partyType" formControlName="partyType" [attr.disabled]=" f['requestResolutionsMonthId'].value ? true : null">
                <i></i>
                {{'app.resolutionsMonth.requestedLevel.1' | translate}}
              </label>
            </div>
            <div class="form-check-inline" *ngIf="isShowPeriod6Month || f['requestResolutionsMonthId'].value">
              <label class="i-checks">
                <input type="radio"class="form-check-input control-label" id="partyType_2" [value]="2"
                  na me="partyType" formControlName="partyType" [attr.disabled]=" f['requestResolutionsMonthId'].value ? true : null">
                <i></i>
                {{'app.resolutionsMonth.requestedLevel.2' | translate}}
              </label>
            </div>
            <div class="form-check-inline" *ngIf="isShowPeriodYear || f['requestResolutionsMonthId'].value">
              <label class="i-checks">
                <input type="radio"class="form-check-input control-label" id="partyType_3" [value]="3"
                  name="partyType" formControlName="partyType" [attr.disabled]=" f['requestResolutionsMonthId'].value ? true : null">
                <i></i>
                {{'app.resolutionsMonth.requestedLevel.3' | translate}}
              </label>
            </div>
            <div class="form-check-inline" *ngIf="f['requestResolutionsMonthId'].value">
              <label class="i-checks">
                <input type="radio"class="form-check-input control-label" id="partyType_4" [value]="4"
                  name="partyType" formControlName="partyType" [attr.disabled]=" f['requestResolutionsMonthId'].value ? true : null">
                <i></i>
                {{'app.resolutionsMonth.requestedLevel.4' | translate}}
              </label>
            </div>
          </div>
          <app-control-messages [control]="f['partyOrganizationId']"></app-control-messages>
        </div>
        <div *ngIf = "!isView" class="ui-g-12 vt-row">
          <label class="ui-g-12 ui-md-3 ui-sm-3 ui-lg-2 control-label vt-align-right required">
            {{'app.requestResolutionMonth.name' | translate}}
          </label>
          <div class="ui-g-12 ui-md-3 ui-sm-9 ui-lg-3">
            <input type="text" class="form form-control" name="name" formControlName="name" maxlength="200" [attr.disabled] = "true">
            <app-control-messages [control]="f['name']"></app-control-messages>
          </div>
        </div>
        <div class="ui-g-12 vt-row">
          <label class="ui-g-12 ui-md-6 ui-sm-3 ui-lg-2 control-label vt-align-right" [ngClass]="isView?'':'required'" >
            {{'app.requestResolutionMonth.requestedDate' | translate}}
          </label>
          <div class="ui-g-12 ui-md-6 ui-sm-9 ui-lg-3">
            <date-picker
              [property]="f['requestDate']" [disabled] = "isAddPartyExcute || isView">
            </date-picker>
            <app-control-messages [control]="f['requestDate']"></app-control-messages>
          </div>
        </div>
        <div class="ui-g-12 vt-row">
          <label class="ui-g-12 ui-md-6 ui-sm-3 ui-lg-2 control-label vt-align-right" [ngClass]="isView?'':'required'">
            {{'app.requestResolutionMonth.finishDate' | translate}}
          </label>
          <div class="ui-g-12 ui-md-6 ui-sm-9 ui-lg-3">
            <date-picker
              [property]="f['finishDate']" [disabled] = "isAddPartyExcute || isView">
            </date-picker>
            <app-control-messages [control]="f['finishDate']"></app-control-messages>
          </div>
        </div>
        <div *ngIf = "!isView" class="ui-g-12 vt-row">
          <label class="ui-g-12 ui-md-3 ui-sm-3 ui-lg-2 control-label vt-align-right">
            {{'app.resolutionsMonth.partyLevelExcute' | translate}}
          </label>
          <div class="ui-g-12 ui-md-3 ui-sm-9 ui-lg-3" style="line-height: 32px;">
            <div class="form-check-inline">
              <label class="i-checks">
                <input disabled="true" type="checkbox"class="form-check-input control-label" id="checkBox_1" [value]="1" name="capChiBoTrucThuoc" formControlName="capChiBoTrucThuoc">
                <i></i>
                Cấp chi bộ trực thuộc
              </label>
            </div>
            <div class="form-check-inline">
              <label class="i-checks">
                <input disabled="true" type="checkbox"class="form-check-input control-label" id="checkBox_2" [value]="1" name="capChiBoCoSo" formControlName="capChiBoCoSo">
                <i></i>
                Cấp chi bộ cơ sở
              </label>
            </div>
            <div class="form-check-inline">
              <label class="i-checks">
                <input disabled="true" type="checkbox"class="form-check-input control-label" id="checkBox_3" [value]="1" name="capDangBoCoSo" formControlName="capDangBoCoSo">
                <i></i>
                Cấp đảng bộ cơ sở
              </label>
            </div>
            <div class="form-check-inline">
              <label class="i-checks">
                <input disabled="true" type="checkbox"class="form-check-input control-label" id="checkBox_4" [value]="1" name="capDangBoBoPhan" formControlName="capDangBoBoPhan">
                <i></i>
                Cấp đảng bộ bộ phận
              </label>
            </div>
          </div>
        </div>
        <div class="ui-g-12 vt-row">
          <label class="ui-g-12 ui-md-3 ui-sm-3 ui-lg-2 control-label vt-align-right ">
            {{'app.responseResolutionMonth.instructionFile' | translate}}
          </label>
          <div *ngIf="!isHideFile || !isView" class="ui-g-12 ui-md-3 ui-sm-9 ui-lg-3">
            <div *ngIf="!isView && createdBy != 'ROBOT_SCHEDULE'">
              <multi-file-chooser
                class="attachment-file"
                [property]="f['attachFile']"
                htmlId="attachFile"
                validType="xls,xlsx,doc,docx,pdf"
                [validMaxSize]="50"
                [disabled] = "isAddPartyExcute || isView">
              </multi-file-chooser>
            </div>
            <div *ngIf="isView || createdBy == 'ROBOT_SCHEDULE'">
              <a *ngFor="let data of templateFileDefault"
                style="color: rgb(0, 153, 255); white-space: nowrap; text-overflow: ellipsis; max-width: 340px; display: block; overflow: hidden; padding-top: 5px;"
                (click)="downloadFile(data)">
                <i class="fas fa-download" style="padding-right: 10px;"></i>
                <span>{{data.fileName}}</span>
                <br>
              </a>
            </div>
            <app-control-messages [control]="f['attachFile']"></app-control-messages>
          </div>
        </div>
        <div class="ui-g-12 vt-row">
          <label *ngIf="!isHideTree" class="ui-g-12 ui-md-3 ui-sm-3 ui-lg-2 control-label vt-align-right">
            {{'app.requestResolutionMonth.partyOrgPerformRequest' | translate}}
          </label>
          <div *ngIf="!isHideTree" class="ui-g-12 ui-md-3 ui-sm-9 ui-lg-3">
            <party-tree-selector
              operationKey="action.view"
              adResourceKey="resource.requestResolutionMonth"
              height="735"
              #orgTree
              isGetAll = "true"
              [requestId] = "requestResolutionsMonthId"
              [rootId] = "f['partyOrganizationId'].value"
            >
            </party-tree-selector>
            <app-control-messages [control]="f['lstNodeCheck']"></app-control-messages>
          </div>
        </div>
      </div>
    </form>
    <!-- Vùng danh ban hành start -->
    <div *ngIf="isView && f['requestResolutionsMonthId'].value" class="col-md-12 e-styles-textboxdiv">
    <request-resolutions-month-detail [requestId] = "f['requestResolutionsMonthId'].value"></request-resolutions-month-detail>
    </div>
    <!-- Vùng danh ban hành end -->
  </div>
</div>


