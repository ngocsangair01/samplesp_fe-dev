<div *ngIf="(hasPermission('action.update') && isUpdate) || (hasPermission('action.insert') && isInsert)">
  <div class="panel panel-default">
    <div class="panel-heading">
      <strong class="text-u-c">
        <i class="fa fa-th"></i>
        <span *ngIf="!f['partyCongressEmployeeId'].value" translate> partyCongressEmployee.addTitle</span>
        <span *ngIf="f['partyCongressEmployeeId'].value" translate> partyCongressEmployee.updateTitle</span>
      </strong>
    </div>
    <form id="formSearch" [formGroup]="formSave">
      <div class="panel-body padding-xl ui-g">
        <div class="ui-g-12 vt-row">
          <label class="ui-g-12 ui-md-6 ui-lg-2 control-label vt-align-right required">
            {{'partyCongressEmployee.newPartyOrgName' | translate}}
          </label>
          <div class="ui-g-12 ui-md-6 ui-lg-3">
            <party-org-selector
              [property]="f['partyOrganizationId']"
              operationKey="action.view"
              adResourceKey="resource.partyCongressEmployee"
              [isRequiredField]="true"
              [autoFocus]="true"
            >
            </party-org-selector>
            <app-control-messages [control]="f['partyOrganizationId']"></app-control-messages>
          </div>
          <label class="ui-g-12 ui-md-6 ui-lg-3 control-label vt-align-right required">
            {{'partyCongressEmployee.newPartyPosition' | translate}}
          </label>
          <div class="ui-g-12 ui-md-6 ui-lg-3">
            <data-picker
              [property]="f['partyPositionId']"
              systemCode="political"
              operationKey="action.view"
              adResourceKey="resource.partyCongressEmployee"
              objectBO="PartyPositionBO"
              codeField="code"
              nameField="name"
              selectField="partyPositionId"
              [isRequiredField]="true"
              filterCondition="AND CURRENT_DATE BETWEEN obj.effective_date AND COALESCE(obj.exprited_date, CURRENT_DATE)
                              AND obj.IS_ACTIVE = 1
                              ORDER BY obj.sort_order ASC">
            </data-picker>
            <app-control-messages [control]="f['partyPositionId']"></app-control-messages>
          </div>
        </div>
        <div class="ui-g-12 vt-row">
          <label class="ui-g-12 ui-md-6 ui-lg-2 control-label vt-align-right required">
            {{'label.exe.req.employee' | translate}}
          </label>
          <div class="ui-g-12 ui-md-6 ui-lg-3">
            <data-picker
              [property]="f['employeeId']"
              systemCode="political"
              operationKey="action.view"
              adResourceKey="resource.partyCongressEmployee"
              objectBO="EmployeeBO"
              codeField="employeeCode"
              nameField="fullName"
              emailField="email"
              mobileNumberField="mobileNumber"
              selectField="employeeId"
              [isRequiredField]="true"
              [isDisplayCode]="false"
              filterCondition="AND obj.status = 1 AND EXISTS
                            ( SELECT pm.employee_id FROM party_member pm
                            INNER JOIN party_member_process pmp ON pm.party_member_id = pmp.party_member_id
                            WHERE pm.employee_id = obj.employee_id AND CURRENT_DATE BETWEEN pmp.effective_date AND COALESCE(pmp.expired_date, CURRENT_DATE))"
            >
            </data-picker>
            <app-control-messages [control]="f['employeeId']"></app-control-messages>
          </div>
          <label class="ui-g-12 ui-md-6 ui-lg-3 control-label vt-align-right required">
            {{'app.emp.tabMenu.partyMemberConcurrentProcess.tenure' | translate}}
          </label>
          <div class="ui-g-12 ui-md-6 ui-lg-3">
            <select-filter
              [property]="f['tenureId']"
              [options]="tenureList"
              optionLabel="name"
              optionValue="categoryId"
              [placeHolder]="'common.label.cboMustSelect'">
            </select-filter>
            <app-control-messages [control]="f['tenureId']"></app-control-messages>
          </div>
        </div>
        <div class="ui-g-12 vt-row">
          <label class="ui-g-12 ui-md-6 ui-lg-2 control-label vt-align-right">
            {{'partyCongressEmployee.rewardForm' | translate}}
          </label>
          <div class="ui-g-12 ui-md-6 ui-lg-3">
            <input type="text" class="form form-control" name="rewardForm" formControlName="rewardForm" maxlength="200">
            <app-control-messages [control]="f['rewardForm']"></app-control-messages>
          </div>
          <label class="ui-g-12 ui-md-6 ui-lg-3 control-label vt-align-right">
            {{'partyCongressEmployee.rewardDate' | translate}}
          </label>
          <div class="ui-g-12 ui-md-6 ui-lg-3">
            <input type="text" class="form form-control" name="rewardDate" formControlName="rewardDate" maxlength="200">
            <app-control-messages [control]="f['rewardDate']"></app-control-messages>
          </div>
        </div>
        <div class="ui-g-12 vt-row">
          <label class="ui-g-12 ui-md-6 ui-lg-2 control-label vt-align-right">
            {{'partyCongressEmployee.rewardReason' | translate}}
          </label>
          <div class="ui-g-12 ui-md-6 ui-lg-9">
            <textarea type="text" class="form form-control" name="rewardReason" formControlName="rewardReason" maxlength="1000"></textarea>
            <app-control-messages [control]="f['rewardReason']"></app-control-messages>
          </div>
        </div>
        <div class="ui-g-12 vt-row">
          <label class="ui-g-12 ui-md-6 ui-lg-2 control-label vt-align-right">
            {{'partyCongressEmployee.disciplineForm' | translate}}
          </label>
          <div class="ui-g-12 ui-md-6 ui-lg-3">
            <input type="text" class="form form-control" name="disciplineForm" formControlName="disciplineForm" maxlength="200">
            <app-control-messages [control]="f['disciplineForm']"></app-control-messages>
          </div>
          <label class="ui-g-12 ui-md-6 ui-lg-3 control-label vt-align-right">
            {{'partyCongressEmployee.disciplineDate' | translate}}
          </label>
          <div class="ui-g-12 ui-md-6 ui-lg-3">
            <input type="text" class="form form-control" name="disciplineDate" formControlName="disciplineDate" maxlength="200">
            <app-control-messages [control]="f['disciplineDate']"></app-control-messages>
          </div>
        </div>
        <div class="ui-g-12 vt-row">
          <label class="ui-g-12 ui-md-6 ui-lg-2 control-label vt-align-right">
            {{'partyCongressEmployee.disciplineReason' | translate}}
          </label>
          <div class="ui-g-12 ui-md-6 ui-lg-9">
            <textarea type="text" class="form form-control" name="disciplineReason" formControlName="disciplineReason" maxlength="1000"></textarea>
            <app-control-messages [control]="f['disciplineReason']"></app-control-messages>
          </div>
        </div>
        <div class="ui-g-12 vt-row">
          <label class="ui-g-12 ui-md-6 ui-lg-2 control-label vt-align-right">
            {{'partyCongressEmployee.profile' | translate}}
          </label>
          <div class="ui-g-12 ui-md-6 ui-lg-3">
            <multi-file-chooser
              [property]="f['profiles']"
              fileName="fileAttachment"
              [validMaxSize]="50"
              validType="xls,xlsx,doc,docx,pdf"
            >
            </multi-file-chooser>
            <app-control-messages [control]="f['profiles']"></app-control-messages>
          </div>
        </div>
      </div>
      <div class="panel-footer vt-area-button">
        <button type="submit" class="btn btn-sm btn-info" (click)="processSaveOrUpdate()" [innerHTML]="'common.button.icon.save' | translate"></button>
      <button type="button" class="btn btn-sm btn-danger" (click)="goBack()" [innerHTML]="'common.button.out' | translate"></button>
      </div>
    </form>
  </div>
</div>
<div *ngIf="(!hasPermission('action.update') && isUpdate) || (!hasPermission('action.insert') && isInsert)">
  {{'common.haveNoPermission' | translate}}
</div>